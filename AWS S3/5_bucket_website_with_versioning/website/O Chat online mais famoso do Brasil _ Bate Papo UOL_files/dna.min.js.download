//dna.min_2.2.3
var DnaUOL=function(){function t(){this.closure=[],this.uid=null,this.instanceId={},this.hasAlarm=!1,this.updateTimeout=3e3,this.unloadBinded=!1,this.version="2.2.3",this.hasSupport=function(){var e=!0;if("sessionStorage"in window)try{sessionStorage.setItem("hasSupport",""),sessionStorage.removeItem("hasSupport")}catch(t){e=!1}else e=!1;return e}()}function r(){if(f.hasSupport&&"dnaThread"in sessionStorage){var e,t=[];try{e=sessionStorage.getItem("dnaThread")}catch(e){/SecurityError/i.test(e)?Log.warning("sessionSecurityError",{errorMessage:e}):Log.error("session",{message:"unsupport",errorMessage:e})}if("finished"==e){try{sessionStorage.setItem("dnaThread","")}catch(e){/SecurityError/i.test(e)?Log.warning("sessionSecurityError",{errorMessage:e}):Log.error("session",{message:"unsupport",errorMessage:e})}t=[]}else try{t=JSON.parse(e)}catch(e){t=[]}for(var r=-1,a=[],n={},i=f.closure.concat(t),o=0;o<i.length;o++){var s=!1;"id"in i[o]&&(i[o].id in n?i[o].update>n[i[o].id].update&&(s=!0):s=!0),s&&(n[i[o].id]=i[o],i[o].update>r&&(r=i[o].update))}for(var c in n)a.push(n[c]);f.closure=a}}function a(){try{if(f.hasSupport&&"finished"!=sessionStorage.getItem("dnaThread")){var e=!1;if(f.closure.length>0){for(var t=u(),r=0;r<f.closure.length;r++)f.closure[r].update=t;var a=JSON.stringify(f.closure);try{sessionStorage.setItem("dnaThread",a)}catch(t){e=!0}}else e=!0;e&&sessionStorage.setItem("dnaThread","")}}catch(e){/SecurityError/i.test(e)?Log.warning("sessionSecurityError",{errorMessage:e}):Log.error("session",{message:"unsupport",errorMessage:e})}}function n(){var e=!0,t=[];for(var r in f.closure){var a=/((no)*hasUid|finalized)/i.test(f.closure[r].status),n=(new Date).getTime()>=f.closure[r].expires;if(e=e&&(a||n),!a)try{t.push(f.closure[r])}catch(e){}}return f.closure=t,e}function o(e){for(var t=0;t<f.closure.length;t++)if("id"in f.closure[t]&&f.closure[t].id==e)return t;return-1}function s(){var e=[],t=[],n=!1;r();for(var i in f.closure){var s=f.closure[i];"standby"==s.status&&"id"in s&&(1==s.detect?e.push(s.id):t.push(s.id)),"initiated"==s.status&&(n=!0)}if(e.length>0&&!n){e=e.concat(t);var c=f.closure[o(e[0])];for(var l in f.instanceId)l!=e[0]||n||("id"in c&&(c.instance=f.instantiate(c.options,c.id)),c.status="initiated",store=!0,n=!0)}a()}function c(){r();for(var e=!1,t=[],a=-1,n=0;n<f.closure.length;n++){var i=f.closure[n];-1!=i?(f.closure[n].update>a&&(a=f.closure[n].update),"standby"==i.status?e=!0:"initiated"==i.status&&t.push(i)):console.error("DnaUOL wakeUp fail")}if(0==t.length)s();else for(var n=0;n<t.length;n++)a-t[n].update>f.updateTimeout&&s();e&&(f.hasAlarm=!0,setTimeout(c,250))}this._$={};var l=function(){var t={parent:f,ts:null,phrase:null,networkTime:0},r={async:function(){function e(e,t,r,a){var n={maxCalls:a||Number.POSITIVE_INFINITY,actualCall:0,data:[],lastComputedData:null,error:[],lastComputedError:null,lastCall:!1,proceed:function(){},then:function(){},clear:function(){},stopOnError:!0,isRunning:!0,userData:e,intervId:null},i=function(e,r){function a(){if(0==r&&(n.isRunning=!1,clearInterval(n.intervId)),1==r&&(n.lastCall=!0),r-- >0)try{a.state.data[n.actualCall]=t.call(a,n),a.state.lastComputedData=a.state.data[n.actualCall],n.actualCall+=1}catch(e){n.stopOnError&&(r=0),a.state.error[n.actualCall]=e,a.state.lastComputedError=a.state.error[n.actualCall];try{a.state.data[n.actualCall]=t.call(a,n),a.state.lastComputedData=a.state.data[n.actualCall]}catch(e){n.stopOnError||(n.actualCall+=1)}}}return n.clear=function(){return n.isRunning?(r=0,n.isRunning=!1,clearInterval(n.intervId),null):null},n.proceed=function(){return n.isRunning?null:(r=n.maxCalls-n.actualCall,n.isRunning=!0,null)},a.state=n,a.clear=n.clear,a.proceed=n.proceed,a}(0,a||Number.POSITIVE_INFINITY);return n.intervId=setInterval(function(){i()},r),i}function t(t,r,a,n){return e(t,r,a,n)}return t}(),parseData:function(){var e=function(e){return n.toHtmlEntities(n.trim(String(e)))},t=function(t){return t=e(t),t=t.replace(/\./g,""),t=t.replace(/\//g,""),t=t.replace(/\\/g,"")},r=function(r,a){return'{"'+t(r)+'": "'+e(a)+'"}'},i=function(r,a){var n=[];for(var i in a)n.push('{"'+t(i)+'": "'+e(a[i])+'"}');return n=n.join(", "),'{"'+r+'": ['+n+"]}"},o=function(t,r){var a=[];for(var n in r)a[n]='"'+e(r[n])+'"';return a=a.join(", "),'{"'+t+'": ['+a+"]}"},s=function(t){return'{"'+e(t)+'": null}'},c=function(e){var t=!1;if("object"==typeof e)for(var r in e)if(e[r]){t=!0;break}return t},l=function(e){var t=!1;if("object"==typeof e)for(var r in e){t=!0;break}return t},u=function(e,t,r,i){n.getSha1(e,function(e,t){try{var r=[],n=a.getTime("detectionTime");"object"==typeof t.options.data&&r.push('"_id":"'+t.options.data.getUid()+'"'),r.push('"sess":"'+t.options.sess+'"'),r.push('"elapsedTime":"'+a.getTime()+'"'),n&&r.push('"detectionTime":"'+n+'"'),r.push('"fp": "'+e+'"'),r.push('"attributes": '+t.attributes),r=r.join(",");var i="{"+r+"}";a.debug("parseDetection",i),t.callback({data:i,callback:t.options.callback})}catch(t){a.error("parseData",{fp:e,errorMessage:t})}},{options:t,attributes:r,callback:i})};return{parse:function(e,t){try{var n,d=[];if("object"==typeof e.detections){var g=[];for(var f in e.detections){var p=e.detections[f],h=!1;p.timeout?h=s(f):"boolean"==p.type&&"boolean"==typeof p.value?h=r(f,String(p.value)):"string"==p.type&&"string"==typeof p.value?h=r(f,p.value):"array"==p.type&&"object"==typeof p.value&&c(p.value)?h=o(f,p.value):"json"==p.type&&"object"==typeof p.value&&l(p.value)&&(h=i(f,p.value)),h&&(g.push(h),"optionalImageCanvas"!=f&&"getBase64ImageCanvas"!=f&&"connection"!=f&&"battery"!=f&&"browserClock"!=f&&d.push({name:f,value:h}))}n=String("[ "+g.join(", ")+" ]")}else n="false";d=d.sort(function(e,t){return e.name>t.name?1:-1});for(var m=[],v=0;v<d.length;v++)m.push(d[v].value);d=m.join("").replace(/\s+/g,""),u(d,e,n,t)}catch(e){a.error("parseData",{errorMessage:e})}}}}(),swfObject:function(){return'DnaUOL.swfobject=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit[/](d+(.d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*s+(S+s+S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*.(.*)s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O.ActiveXObject!=D){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState=="complete")||(typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return !a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?"ActiveX":"PlugIn",ac="MMredirectURL="+encodeURI(O.location).toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=" class=\'"+ai[ae]+"\'"}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+"=\'"+ai[ae]+"\'"}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+="<param name=\'"+ad+"\' value=\'"+ag[ad]+"\' />"}}aa.outerHTML="<object classid=\'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\'"+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\'<>.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in DnaUOL.swfobject){DnaUOL.swfobject[X]=null}DnaUOL.swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/[?]/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring((Y[X].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}}();'},cryptoSha1:{convert:function(e){function t(e){return i(o(n(e),8*e.length))}function r(e){for(var t,r="0123456789abcdef",a="",n=0;n<e.length;n++)t=e.charCodeAt(n),a+=r.charAt(t>>>4&15)+r.charAt(15&t);return a}function a(e){for(var t,r,a="",n=-1;++n<e.length;)t=e.charCodeAt(n),r=n+1<e.length?e.charCodeAt(n+1):0,55296<=t&&t<=56319&&56320<=r&&r<=57343&&(t=65536+((1023&t)<<10)+(1023&r),n++),t<=127?a+=String.fromCharCode(t):t<=2047?a+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?a+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(a+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return a}function n(e){for(var t=Array(e.length>>2),r=0;r<t.length;r++)t[r]=0;for(var a=0;a<8*e.length;a+=8)t[r>>5]|=(255&e.charCodeAt(r/8))<<24-r%32;return t}function i(e){for(var t="",r=0;r<32*e.length;r+=8)t+=String.fromCharCode(e[r>>5]>>>24-r%32&255);return t}function o(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var r=Array(80),a=1732584193,n=-271733879,i=-1732584194,o=271733878,d=-1009589776,g=0;g<e.length;g+=16){for(var f=a,p=n,h=i,m=o,v=d,y=0;y<80;y++){r[y]=y<16?e[g+y]:u(r[y-3]^r[y-8]^r[y-14]^r[y-16],1);var w=l(l(u(a,5),s(y,n,i,o)),l(l(d,r[y]),c(y)));d=o,o=i,i=u(n,30),n=a,a=w}a=l(a,f),n=l(n,p),i=l(i,h),o=l(o,m),d=l(d,v)}return Array(a,n,i,o,d)}function s(e,t,r,a){return e<20?t&r|~t&a:e<40?t^r^a:e<60?t&r|t&a|r&a:t^r^a}function c(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function l(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function u(e,t){return e<<t|e>>>32-t}return function(e){return r(t(a(e)))}(e)}},getRandomInt:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},getReferer:function(){return window.location!=window.parent.location?document.referrer:void 0},getRefererOrLocation:function(){return this.getReferer()||document.location.href},getRefererDomain:function(){var e=this.getRefererOrLocation(),t=/(https|http):\/\/.*\//.exec(e);return t?t[0]:window.location.hostname},getDomain:function(){return window.location.hostname},addQueryParam:function(e,t,r){try{t=encodeURIComponent(t);var n=document.createElement("a");return r=r?encodeURIComponent(r):"",t+="="+r,n.href=e,n.search+=(n.search?"&":"")+t,n.href}catch(e){a.error("Utils.addQueryParam",{errorMessage:e})}},fbScript:function(){return function(e,t,r,a,n){var i=window.console;if(!window[r]&&window.JSON){for(var o=window[r]={__buffer:{replay:function(){for(var e=this,t=0;t<this.calls.length;t++)!function(t){var a=window[r];e.calls[t][0].split(".").forEach(function(e){return a=a[e]}),a.apply(null,e.calls[t][1])}(t);this.calls=[]},calls:[],opts:null},getUserID:function(){return""},getAuthResponse:function(){return null},getAccessToken:function(){return null},init:function(e){o.__buffer.opts=e}},t=0;t<a.length;t++)if(!((i=a[t])in o)){for(var s=i.split("."),c=s.pop(),l=o,u=0;u<s.length;u++)l=l[s[u]]||(l[s[u]]={});l[c]=function(e){if("init"!==e)return function(){o.__buffer.calls.push([e,Array.prototype.slice.call(arguments)])}}(i)}u=e,s=/Chrome\/(d+)/.exec(navigator.userAgent),s&&Number(s[1])>=55&&"assign"in Object&&"findIndex"in[]&&(u+="&ua=modern_es6"),l=document.createElement("script"),l.src=u,l.async=!0,n&&(l.crossOrigin="anonymous"),c=document.getElementsByTagName("script")[0],c.parentNode&&c.parentNode.insertBefore(l,c)}}("https://connect.facebook.net/en_US/all.js?hash=2828e3cbcb1e4a49482cfdd37f0f40e1",1563566053,"FB",["AppEvents.EventNames","AppEvents.ParameterNames","AppEvents.activateApp","AppEvents.clearAppVersion","AppEvents.clearUserID","AppEvents.getAppVersion","AppEvents.getUserID","AppEvents.logEvent","AppEvents.logPageView","AppEvents.logPurchase","AppEvents.setAppVersion","AppEvents.setUserID","AppEvents.updateUserProperties","Canvas.Plugin.showPluginElement","Canvas.Plugin.hidePluginElement","Canvas.Prefetcher.addStaticResource","Canvas.Prefetcher.setCollectionMode","Canvas.getPageInfo","Canvas.scrollTo","Canvas.setAutoGrow","Canvas.setDoneLoading","Canvas.setSize","Canvas.setUrlHandler","Canvas.startTimer","Canvas.stopTimer","Event.subscribe","Event.unsubscribe","XFBML.parse","addFriend","api","getAccessToken","getAuthResponse","getLoginStatus","getUserID","init","login","logout","publish","share","ui"],!0)}};this._$="_$"in this?_$:{},_$.utils=r;var Config=new function(){var e=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?r:3&r|8).toString(16)})}(),r="/service",a={_ad:["dna.uol.com.br","dna.intranet.uol.com.br","m.dna.uol.com.br"],_ap:"https://",_ak:"DNA",_ll:["error"],_lfd:"8",_nDevicesToDetect_:100,_uf:30,_muf:365,_cvs:"|",_usp:r+"/sample",_secGatewayDomain:"api.security.pagseguro.uol.com.br",_srsp:r+"/sample/conn",_lp:"logger.dna.uol.com.br/v2/error",_csp:r+"/cookie",_esp:r+"/etag",_bsp:r+"/base64",_acsp:r+"/iframe",_fssp:r+"/iframefs",_ssp:r+"/dpt",_op:!1,_wi:"dna-uol-wrapper",_ws:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_ai:30,_maa:20,_ics:!0,_udif:!1,_dnaIframeUrl_:"https://www.uol.com.br/dna-iframe.html",_sc:"default",_sv:"2.2.3",_guid:e,_dtl_:{single:{sessionStorage:{required:!0,amount:100},geolocation:{required:!0,amount:100},globalStorage:{required:!0,amount:100},localStorage:{required:!0,amount:100},openDatabase:{required:!0,amount:100},activeX:{required:!0,amount:100},geckoActiveX:{required:!0,amount:100},console:{required:!0,amount:100},iEuserData:{required:!0,amount:100},ajax:{required:!0,amount:100},ct:{required:!0,amount:100},dc:{required:!0,amount:100},svg:{required:!0,amount:100},plugins:{required:!0,amount:100},iEComponents:{required:!0,amount:100},mimeTypes:{required:!0,amount:100},language:{required:!0,amount:100},screen:{required:!0,amount:100},navigator:{required:!0,amount:100},keyboardMap:{required:!0,amount:100},timezone:{required:!0,amount:100},getAudioFingerprint:{required:!0,amount:100},getAudioContext:{required:!0,amount:100},getBase64WebGL:{required:!0,amount:100},getBase64Canvas:{required:!0,amount:100},getHashCanvas:{required:!0,amount:100},resolution:{required:!0,amount:100},webglParams:{required:!0,amount:100},flashAttributes:{required:!0,amount:100},automationTools:{required:!0,amount:100},socialNetworks:{required:!0,amount:100},unstableNavigator:{required:!0,amount:100},connection:{required:!0,amount:100},battery:{required:!0,amount:100},adBlock:{required:!0,amount:100},browserClock:{required:!0,amount:100},ieAddBehavior:{required:!0,amount:100},gaUniqueID:{required:!0,amount:100},extensions:{required:!0,amount:100},supportedVideoFormats:{required:!0,amount:100},supportedAudioFormats:{required:!0,amount:100},browserPermissions:{required:!0,amount:100}},multi:{fonts:[{type:"fontsFlash",required:!0,amount:100},{type:"fontsJs",required:!0,amount:100}]}}};t._ad=a._ad[0],t._ap=a._ap,t.secGatewayUrl=t._ap+a._secGatewayDomain+"/dna",t.appUrl=t._ap+t._ad,g.guid=e,this.get=function(e){return void 0!==a[e]?a[e]:null}};this._$="_$"in this?_$:{},_$.config=Config;var a=new function(){var e,r,i={},o=0,l={},u=[],d={},g={process:0,elapsed:0,count:0},f=!1,h=this,m=t._ap+_$.config.get("_lp"),v=function(e){e.type in d&&d[e.type].count++;var r=e.stack.join("_");r in l?l[r].push(e):l[r]=[e],"consoleLog"in t&&!0===t.consoleLog&&console.log("["+e.type.toUpperCase()+"]",e.time,r,JSON.stringify(e.messages),e.messages),o++},y=function(){var e={};if(o!=l.length){if(e.scriptVersion=_$.config.get("_sv")+"_"+_$.config.get("_sc"),e.guid=_$.config.get("_guid"),e.navigator={},e.navigator.userAgent=navigator.userAgent,e.navigator.name=t.browser.alias,e.navigator.version=t.browser.version,e.navigator.major=t.browser.major,e.navigator.platform=String(navigator.platform),e.origin=String("parent"in t&&""!=t.parent?t.parent:location.protocol+"//"+location.hostname+location.pathname),e.date=String(a.getNowDate()),"performance"in window&&"timing"in performance&&(e.timing=b()),e.run=C(),"clientOptions"in e.run&&(e.run.clientOptions.value.forceUpdate=Boolean(e.run.clientOptions.value.forceUpdate)),"checkPersistence"in e.run){var n=e.run.checkPersistence.parseData.value;"object"!=typeof e.run.checkPersistence.parseData.value&&(e.run.checkPersistence.parseData.value={value:n,lastUpdate:e.date})}if(e.issues=D(),"error"in e.issues&&"errors"in e.issues.error){var i=[],s={};for(var c in e.issues.error.errors)s[e.issues.error.errors[c].stack]=e.issues.error.errors[c];for(c in s)i.push(s[c]);e.issues.error.errors=i,e.issues.error.count=i.length}var u="persist"!=_$.config.get("_sc")?(new p).get("resolution").get():null;"mobile"in t.browser&&(e.navigator.os=t.browser.mobile,u&&(e.navigator.resolution=u.physicalResolution,e.navigator.pixelRate=u.devicePixelRatio)),r=e}else e=r;return{log:e}},b=function(){var e=performance.timing,r={};r.navigationStart=e.navigationStart;for(var a in e)/domLoading|domInteractive|domContentLoadedEventEnd|domComplete/.test(a)&&(r[a]=e[a]>0?e[a]-r.navigationStart:e[a]);var n=h.getTime();return r.total=n,t&&(r.process=(n-t.networkTime).toFixed(2),r.network=t.networkTime.toFixed(2)),r},C=function(){var t={};for(var r in l){for(var a={},n=0;n<l[r].length;n++){var i,o=l[r][n],c=o.messages[0];if("parseDetection"==o.stack[o.stack.length-1]){var u=c.replace(/(base64,[a-zA-Z0-9\+\/]{100})[a-zA-Z0-9\+\/]+([a-zA-Z0-9\+\/\=]{100})/g,"$1...$2");try{i=s.get("jsonParser").parse(u)}catch(e){i={message:"parseDetectionLog",value:c,errorMessage:e}}}else i="object"==typeof c?JSON.parse(JSON.stringify(c).replace(/:\s*(false|true)/,':"$1"')):String(c);var g="debug"==o.type?"value":o.type,f={};f[g]=i,f.process=o.time.process+"_"+o.time.elapsedTime,l[r].length>1?a[n]=f:a=f,e.join(",").indexOf(o.type)>=0&&d[o.type].messages.push({label:l[r],value:i})}var f=t,p=o.stack.slice(0);do{var h=p.shift();h in f||(f[h]=0==p.length?a:{}),f=f[h]}while(p.length>0)}return t},S=function(e){var t={},r=e.label[0];if("string"==typeof r.messages[0])t.origin="stack"in r?r.stack.join("."):null,t.message="messages"in r?r.messages.join("-"):null,t.stack="stack"in r?r.stack:null;else if(r.lastComputedError||"string"==typeof r.messages[0]){var a="actualDetection"in r.messages[0]?r.messages[0].actualDetection:"",n="message"in r.messages[0].lastComputedError?r.messages[0].lastComputedError.message:"",i="lastComputedError"in r.messages[0].lastComputedError.stack?r.messages[0].lastComputedError.stack:"";t.origin="stack"in r?r.stack.join(".")+"."+a:null,t.message="lastComputedError"in r&&"message"in r.lastComputedError?n:r.messages[0].errorMessage.message,t.stack="lastComputedError"in r&&"stack"in r.lastComputedError?i:r.stack.join(".")}else t.origin="stack"in r?r.stack.join("."):null,t.message="errorMessage"in r.messages[0]?r.messages[0].errorMessage.message:null,t.stack="errorMessage"in r.messages[0]?r.messages[0].errorMessage.stack:null;return t},D=function(){var e={};for(var t in d)if("debug"!=t&&"warning"!=t){e[t]={count:d[t].messages.length,errors:[]};for(var r=0;r<d[t].messages.length;r++){var a=S(d[t].messages[r]);e[t].errors.push(a)}}return e},E=function(){var e=0;for(var t in d)e+=d[t].count;return e>0},A=function(e){try{var t=_$.config.get("_lfd").split(" ");if(e){var r=e.getUid();return/[0-9a-f]{32}/.test(r)?T(r,t)|f:f}return T("0123456789abcdef".substring(parseInt(16*Math.random(),10),1),t)|f}catch(e){return!1}},T=function(e,t){for(var r=0;r<t.length;r++){if(new RegExp(t[r]+"$").test(e))return!0}return!1},B=function(e){c.post({url:m,data:e,dataType:"text",headers:{"Content-Type":"application/json"},withCredentials:!1,error:function(e){M(e)}})},M=function(e){w.finalize("Erro lançado na execução do Script");var t={};_$&&_$.config&&(t.scr=_$.config.get("_sv"));for(var r in l)if(/xhrRequest_(.*error|NoCrossDomain)/i.test(r)||/XDRequest_(onerror|tryAgain|timeout)/i.test(r))for(var a=0;a<l[r].length;a++){var n=l[r][a].messages[0].url.match(/\/(\w+).*/);n.length>=1&&(t[n[1]]=l[r][a].messages[0].status?l[r][a].messages[0].status:0)}c.get({url:m,data:t,cache:!1,withCredentials:!1})},_=function(){return(new Date).getTime()};this.getNow=function(){return _()},this.getNowDate=function(){return h.formatDate(new Date)},this.formatDate=function(e){if(e instanceof Date||isNaN(e))e=new Date;else try{e=new Date(e)}catch(e){return a.error("logFormatDate",{errorMessage:e}),null}return"toISOString"in e?e.toISOString():e.toGMTString()},this.startTimer=function(e){e&&""!=e||(e="default"),e in i||(i[e]=_())},this.getTime=function(e){return e&&""!=e||(e="default"),e in i?_()-i[e]:null},this.commit=function(e){if(E()&&A(e))try{a.debug("sendLogger",!0);var t=y();B(t),f=!1}catch(e){M(e)}},this.getData=function(){return y()};var x=function(e,t,r){var a=h.getTime();return{stack:u.concat(e),time:{process:++g.count,elapsedTime:a},type:r,messages:t}},R=function(e){e.constructor!==Array&&(e=[e]);for(var t=e.length-1;t>=0;t--)u[u.length-1]==e[t]&&u.pop()},I=function(e,t){var r=e[0].match(/^([\+|\-]*)(.*)/),a=null,n="";if("+"==r[1]&&u[u.length-1]!=r[2])u=u.concat(r[2].split("."));else if("-"==r[1])R(r[2].split("."));else{var i=e[0].split(".");i.length>1?(n=i.pop(),a=i,u=u.concat(i)):n=r[2]}if(e.length>1){for(var o=[],s=1;s<e.length;s++)o.push(e[s]);v(x(n,o,t))}a&&R(a)};this.error=function(){I(arguments,"error")},this.forceSendErrorToServer=function(){f=!0,I(arguments,"error")},this.warning=function(){I(arguments,"warning")},this.debug=function(){I(arguments,"debug")},this.info=function(){I(arguments,"info")},this.addEvent=function(e){I(["external",n.toHtmlEntities(n.trim(String(e)))],"event")},this.addRuntimeError=function(e){var r={runtimeError:e};r.scriptVersion=_$.config.get("_sv")+"_"+_$.config.get("_sc"),r.guid=_$.config.get("_guid"),r.navigator={},r.navigator.userAgent=navigator.userAgent,r.navigator.name=t.browser.alias,r.navigator.version=t.browser.version,r.navigator.major=t.browser.major,r.navigator.platform=String(navigator.platform),r.date=String(a.getNowDate()),c.post({url:m,data:r,dataType:"text",headers:{"Content-Type":"application/json"},withCredentials:!1,error:function(e){M(e)}})},this.begin=function(t){e="object"==typeof t?t:["error"];for(var r in e)d[e[r]]={count:0,messages:[]}}};this.Log=a;var n=new function(){var e=_$.config.get("_ws"),o=this;this.getHtmlWrapper=function(){var e=!1;try{var t=_$.config.get("_wi");if(null!=document.getElementById(t))e=document.getElementById(t);else{var e=document.createElement("div");e.id=t,e.style.width="0px",e.style.height="0px",e.style.position="absolute",e.style.top="-100000px",e.style.overflow="hidden",document.getElementsByTagName("body")[0].appendChild(e)}}catch(e){a.error("getHtmlWrapper",{errorMessage:e})}return e},this.newRelic={addPageAction:function(e,t,r,a){var i="number"==typeof a?a:0;if("string"==typeof e){t.dnaEventType=e,t.error=t.error||!1;const o=function(){return"object"==typeof newrelic&&(newrelic.addPageAction("dnaFingerprintEvent",t),!0)};!0!==o()&&n.newRelic.retry(o,r,i)}},sendEventError:function(e,t){"string"==typeof e&&(t.dnaEventType=e,"object"==typeof newrelic&&newrelic.noticeError("dnaFingerprintEventError",t))},retry:function(e,t,r){var a="number"==typeof t?t:500,i="number"==typeof r?r:3;"function"==typeof e&&i>0&&setTimeout(function(){!1===e()&&n.newRelic.retry(e,a,--i)},a)}},this.removeHtmlWrapper=function(){var e=!1;try{var t=this.getHtmlWrapper();t&&t.parentNode.removeChild(t),e=!0}catch(e){a.error("removeHtmlWrapper",{errorMessage:e})}return e},this.removeHtmlElement=function(e){var t=!1;try{
"string"==typeof e&&(e=document.getElementById("id")),e&&(this.getHtmlWrapper().removeChild(e),t=!0)}catch(e){a.error("removeHtmlElement",{errorMessage:e})}return t},this.createHtmlElement=function(e,t){var r=!1;try{if(r="string"==typeof t.id&&document.getElementById(t.id)?document.getElementById(t.id):document.createElement(e)){for(var n in t)"id"==n&&"string"==typeof t[n]?r.id=t.id:"html"==n&&"string"==typeof t[n]?r.innerHTML=t.id:r.setAttribute(n.replace(/^_/,""),t[n]);this.getHtmlWrapper().appendChild(r)}}catch(e){a.error("createHtmlElement",{errorMessage:e})}return r},this.getBrowser=function(){var e={};try{var t=(arguments.length>0&&"string"==typeof arguments[0]?arguments[0]:navigator.userAgent).toLowerCase();switch(!0){case/opera.*version\/(\d+)([\d\.]*)/.test(t):case/opera[\/\s](\d+)([\d\.]*)/.test(t):case/opr\/(\d+)([\d\.]*)/.test(t):e=s("OPERA","isOpera",RegExp.$1,RegExp.$2);break;case/trident\/.*rv\:(\d+)([\d\.]*)/.test(t):case/msie[\/\s](\d+)([\d\.]*)/.test(t):e=s("MSIE","isIE",RegExp.$1,RegExp.$2);break;case/edge\/(\d+)([\d\.]*)/.test(t):e=s("EDGE","isEdge",RegExp.$1,RegExp.$2);break;case/chrome\/(\d+)([\d\.]*)/.test(t):case/crios\/(\d+)([\d\.]*)/.test(t):e=s("CHROME","isChrome",RegExp.$1,RegExp.$2);break;case/android.*version\/(\d+)([\d\.]*).*safari/.test(t):e=s("ANDROID BROWSER","isAndroidBrowser",RegExp.$1,RegExp.$2);break;case/fxios\/(\d+)([a-z\d\.]*)/.test(t):e=s("FIREFOX","isFirefox",RegExp.$1,RegExp.$2);break;case/version\/(\d+)([\d\.]*).*safari/.test(t):case/iphone.*instagram\s(\d+)([\d\.]*)/.test(t):e=s("SAFARI","isSafari",RegExp.$1,RegExp.$2);break;case/(iphone|ipad).*os\s(\d+)([\d_]*)/.test(t):e=s("SAFARI","isSafari",RegExp.$2,RegExp.$3);break;case/firefox\/(\d+)([\d\.]*)/.test(t):e=s("FIREFOX","isFirefox",RegExp.$1,RegExp.$2);break;case/adobeair\/(\d+)([\d\.]*)/.test(t):e=s("ADOBEAIR","isAdobeAir",RegExp.$1,RegExp.$2);break;default:e=s("","","-1","")}n.isMobile.Android()?e.mobile="ANDROID":n.isMobile.BlackBerry()?e.mobile="BLACKBERRY":n.isMobile.iOS()?e.mobile="iOS":n.isMobile.Windows()&&(e.mobile="IEMobile"),e.name=e.alias+" "+e.major,"NaN"!=e.major&&"-1"!=e.major&&""!=e.alias||a.error("getBrowser","browser undefined")}catch(e){a.error("getBrowser",{errorMessage:e})}return e};var s=function(e,t,r,a){for(var n={alias:e,version:"-1"==r?"":r+a,major:parseInt(r,10)},i=["isOpera","isIE","isEdge","isChrome","isAndroidBrowser","isFirefox","isSafari","isFirefox","isAdobeAir"],o=0;o<i.length;o++)""!=t&&t==i[o]?n[t]=!0:n[i[o]]=!1;return n};this.isPagSeguroDomain=function(e){var t=/pagseguro/.test(e||r.getDomain()),a=/pagbank/.test(e||r.getDomain());return t||a},this.isMobile={Android:function(){return/android/i.test(navigator.userAgent)},BlackBerry:function(){return/blackberry/i.test(navigator.userAgent)},iOS:function(){return/iP(hone|ad|od)/i.test(navigator.userAgent)},Windows:function(){return/IEMobile/i.test(navigator.userAgent)},any:function(){return o.isMobile.Android()||o.isMobile.BlackBerry()||o.isMobile.iOS()||o.isMobile.Windows()}},this.getOS=function(){var e=navigator.userAgent.toLowerCase();return/linux armv7l|android/.test(e)?"android":/ip(hone|ad|od)/.test(e)?"ios":/win/.test(e)?"win":/mac/.test(e)?"mac":/linux/.test(e)?"linux":(a.error("getOS","other OS"),"other")},this.flashSupport=function(){var e=!1;try{t.browser.isIE&&"undefined"!=typeof ActiveXObject?e=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")):(t.browser.isChrome&&t.browser.major<53||t.browser.isFirefox&&t.browser.major<48||!t.browser.isChrome&&!t.browser.isFirefox)&&(e=navigator.mimeTypes&&Boolean(navigator.mimeTypes["application/x-shockwave-flash"]))}catch(t){a.debug("flashSupport","Navegador não suporta flash"),e=!1}return e},this.getCookie=function(e,t){var r=e.split(";"),a="",n="",o=!1;for(i=0;i<r.length;i++){if(a=r[i].split("="),a[0].replace(/^\s+|\s+$/g,"")==t)return o=!0,a.length>1&&(n=unescape(a[1].replace(/^\s+|\s+$/g,""))),n;a=null,""}if(!o)return null},this.trim=function(e){var t=e;try{t=null==e?"":(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}catch(e){a.error("trim",{errorMessage:e})}return t},this.setUrlParameter=function(e,t,r){var n="";try{if(e.indexOf("&"+t+"=")>-1||0==e.indexOf(t+"=")){var i=e.indexOf("&"+t+"=");-1==i&&(i=e.indexOf(t+"="));var o=e.indexOf("&",i+1);return-1!=o?e.substr(0,i)+e.substr(o+(i?0:1))+"&"+t+"="+r:e.substr(0,i)+"&"+t+"="+r}n=e+"&"+t+"="+r}catch(e){a.error("setUrlParameter",{errorMessage:e})}return n},this.getUrlParameter=function(e,t){if("string"==typeof e&&"string"==typeof t)try{for(var r=t+"=",n=e.split(/[;&]/),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(r))return o.substring(r.length,o.length)}}catch(e){a.error("getUrlParameter",{errorMessage:e})}return!1},this.encode=function(t){var r="";if("string"==typeof t)try{var n,i,o,s,c,l,u,d=0;for(t=this.UTF8Encode(t);d<t.length;)n=t.charCodeAt(d++),i=t.charCodeAt(d++),o=t.charCodeAt(d++),s=n>>2,c=(3&n)<<4|i>>4,l=(15&i)<<2|o>>6,u=63&o,isNaN(i)?l=u=64:isNaN(o)&&(u=64),r+=e.charAt(s)+e.charAt(c)+e.charAt(l)+e.charAt(u)}catch(e){a.error("encode",{errorMessage:e})}return r},this.decode=function(t){var r="";if("string"==typeof t)try{var n,i,o,s,c,l,u,d=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<t.length;)s=e.indexOf(t.charAt(d++)),c=e.indexOf(t.charAt(d++)),l=e.indexOf(t.charAt(d++)),u=e.indexOf(t.charAt(d++)),n=s<<2|c>>4,i=(15&c)<<4|l>>2,o=(3&l)<<6|u,r+=String.fromCharCode(n),64!=l&&(r+=String.fromCharCode(i)),64!=u&&(r+=String.fromCharCode(o));r=this.UTF8Decode(r)}catch(e){a.error("decode",{errorMessage:e})}return r},this.UTF8Encode=function(e){var t="";if("string"==typeof e)try{for(var e=e.replace(/\r\n/g,"\n"),r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}}catch(e){a.error("UTF8Encode",{errorMessage:e})}return t},this.UTF8Decode=function(e){var t="";if("string"==typeof e)try{for(var r=0,n=c1=c2=0;r<e.length;)n=e.charCodeAt(r),n<128?(t+=String.fromCharCode(n),r++):n>191&&n<224?(c2=e.charCodeAt(r+1),t+=String.fromCharCode((31&n)<<6|63&c2),r+=2):(c2=e.charCodeAt(r+1),c3=e.charCodeAt(r+2),t+=String.fromCharCode((15&n)<<12|(63&c2)<<6|63&c3),r+=3)}catch(e){a.error("UTF8Decode",{errorMessage:e})}return t},this.toHtmlEntities=function(e){var t=e;try{var r={20:"&#160;",22:"&#34;",27:"&#39;","3C":"&#60;","3E":"&#62;",C2A1:"&#161;",C2A2:"&#162;",C2A3:"&#163;",C2A4:"&#164;",C2A5:"&#165;",C2A6:"&#166;",C2A7:"&#167;",C2A8:"&#168;",C2A9:"&#169;",C2AA:"&#170;",C2AB:"&#171;",C2AC:"&#172;",C2AE:"&#174;",C2AF:"&#175;",C2B0:"&#176;",C2B1:"&#177;",C2B2:"&#178;",C2B3:"&#179;",C2B4:"&#180;",C2B5:"&#181;",C2B6:"&#182;",C2B7:"&#183;",C2B9:"&#185;",C2BA:"&#186;",C2BB:"&#187;",C2BC:"&#188;",C2BD:"&#189;",C2BE:"&#190;",C2BF:"&#191;",C397:"&#215;",C3B7:"&#247;",C380:"&#192;",C381:"&#193;",C382:"&#194;",C383:"&#195;",C384:"&#196;",C385:"&#197;",C386:"&#198;",C387:"&#199;",C388:"&#200;",C389:"&#201;",C38A:"&#202;",C38B:"&#203;",C38C:"&#204;",C38D:"&#205;",C38E:"&#206;",C38F:"&#207;",C390:"&#208;",C391:"&#209;",C392:"&#210;",C393:"&#211;",C394:"&#212;",C395:"&#213;",C396:"&#214;",C398:"&#216;",C399:"&#217;",C39A:"&#218;",C39B:"&#219;",C39C:"&#220;",C39D:"&#221;",C39E:"&#222;",C39F:"&#223;",C3A0:"&#224;",C3A1:"&#225;",C3A2:"&#226;",C3A3:"&#227;",C3A4:"&#228;",C3A5:"&#229;",C3A6:"&#230;",C3A7:"&#231;",C3A8:"&#232;",C3A9:"&#233;",C3AA:"&#234;",C3AB:"&#235;",C3AC:"&#236;",C3AD:"&#237;",C3AE:"&#238;",C3AF:"&#239;",C3B0:"&#240;",C3B1:"&#241;",C3B2:"&#242;",C3B3:"&#243;",C3B4:"&#244;",C3B5:"&#245;",C3B6:"&#246;",C3B8:"&#248;",C3B9:"&#249;",C3BA:"&#250;",C3BB:"&#251;",C3BC:"&#252;",C3BD:"&#253;",C3BE:"&#254;",C3BF:"&#255;"};t=t.replace(new RegExp("&","g"),"&#38;");for(var n in r){var i=decodeURIComponent("%"+n.match(/.{1,2}/g).join("%"));t=t.replace(new RegExp(i,"g"),r[n])}}catch(e){a.error("toHtmlEntities",{errorMessage:e})}return t},this.getSha1=function(e,t,r){if("crypto"in window&&"subtle"in window.crypto&&"Promise"in window&&"TextEncoder"in window){var n=new TextEncoder,i=n.encode(e);window.crypto.subtle.digest({name:"SHA-1"},i).then(function(e){try{for(var n=new Uint8Array(e),i="",o=0;o<n.byteLength;o++){i+=("00"+n[o].toString(16)).replace(/.*(.{2})/,"$1")}t(i,r)}catch(e){a.error("getSha1",{message:"catch generate hex",errorMessage:e}),t(null,r)}},function(e){a.error("getSha1",{message:"catch digest promise",errorMessage:e})})}else{var o=_$.utils.cryptoSha1.convert(e);t(o,r)}},this.orderAndHash=function(e,t,r,a){for(var n=0;n<e.length;n++)e[n]=e[n].replace(/\s+/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/gi,"");e=t?e.sort(t):e.sort(),this.getSha1(e,r,a)},this.createIframe=function(e,r,a,i,o){if(("srcdoc"in document.createElement("iframe")&&"useDynamicIframe"in t?t.useDynamicIframe:_$.config.get("_udif"))&&r&&!t.browser.isIE&&!t.browser.isEdge){var s=e.toString().replace(/\t/g," ").replace(/ +/g," "),u=_$.config.get("_guid")+"-"+c(s);d(u,r);var g="object"==typeof i?l(i):"",f=a||"",p="<!DOCTYPE html><html><head><script>"+g+"(function(){var r=("+s+')();function sendData(d){d=JSON.stringify(d);parent.postMessage("'+u+'#"+d,"'+location.protocol+"//"+location.hostname+'");}})();<\/script></head><body>'+f+"<script>document.write(location.href);<\/script></body></html>";return o||(o={}),o.title="DnaUOL",o.src="data:text/html;charset=utf-8,"+encodeURI(p),o.srcdoc=p,n.createHtmlElement("iframe",o),!0}return!1},this.detectInIframe=function(e,r,a){var i="src"in document.createElement("iframe"),o=r.toString().replace(/\t/g," ").replace(/ +/g," "),s=_$.config.get("_guid")+"-"+c(o);if(d(s,r),i&&r&&!t.browser.isIE&&!t.browser.isEdge){a||(a={});var l={id:s,detection:e||""};try{l=JSON.stringify(l),l=window.btoa(l)}catch(e){l=l.id+"+"+l.detection}return a.title="DnaUOL",a.src=_$.config.get("_dnaIframeUrl_")+"?detectionParams="+l,n.createHtmlElement("iframe",a)}return!1};var c=function(e){var t,r,a=0;if(0===e.length)return a;for(t=0;t<e.length;t++)r=e.charCodeAt(t),a=(a<<5)-a+r,a|=0;return a.toString(16).replace("-","g")},l=function(e){var t="";for(var r in e)t+="var "+r+"="+e[r].toString()+";";return t},u={},d=function(e,t){u[e]=t},g=function(e,t){var r={value:t};r=JSON.stringify(r);try{e in u&&u[e].call(null,JSON.parse(r))}catch(e){a.error("triggerBufferCallback",{errorMessage:e})}},f=function(e){if("string"==typeof e.data){var t,r,n=e.data.match(/^([a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12})-([a-g0-9]{1,9})\#(.+)$/);if(n&&4==n.length&&n[1]==_$.config.get("_guid"))t=n[1]+"-"+n[2],r=n[3];else if(e.data)try{if("data"in e&&"recaptcha-setup"!=e.data){var i=JSON.parse(e.data);"id"in i&&(t=i.id,r=i.data)}}catch(e){a.error("checkMessage",{errorMessage:e})}g(t,r)}},p=window.addEventListener?"addEventListener":"attachEvent",h="attachEvent"==p?"on":"";window[p](h+"message",function(e){f(e)},!1),this.loadIframe=function(e,t,r){var a=_$.config.get("_guid")+"-"+c(e);d(a,t),r||(r={}),r.src=e+"#"+a,this.createHtmlElement("iframe",r)},this.createWindowCallback=function(e,t){var r=(e.match(/(.)(.*)/),"getExternalData"+RegExp.$1.toUpperCase()+RegExp.$2);return window[r]=function(e,t){this.guid=e,this.fields=t;var r=this;return{get:function(e,a){return r.guid==e&&a in t?t[a]:null},getAll:function(e){return t}}}(_$.config.get("_guid"),t),r}};this.Helpers=n;var o,s=new function(){this.get=function(t){return void 0!==e[t]?new e[t]:null};var e=new function(){this.swf=function(){if(!g.swfobject){var e,r=document.createElement("script");t.browser.isIE&&parseInt(t.browser.version,10)<=8?r.text=_$.utils.swfObject():(e=document.createTextNode(_$.utils.swfObject()),r.appendChild(e)),document.getElementsByTagName("head")[0].appendChild(r)}this.create=function(){try{if(g.swfobject){n.createHtmlElement("div",{id:"dnauol-swf-wrapper"}).innerHTML='<div id="dnauol-swf"></div>',g.swfobject.embedSWF(t.appUrl+"/resource/dna.swf","dnauol-swf","1","1","9",{},{},{allowscriptaccess:"always"})}}catch(e){a.error("librarySwfCreate",{errorMessage:e})}},this.createHandler=function(){var e;try{e=g.swfobject.getObjectById("dnauol-swf"),e?this.handler=e:e=!1}catch(t){a.error("librarySwfCacheHandler",{errorMessage:t}),e=!1}return e}},this.jsonParser=function(){this.parse=function(e){if("JSON"in window&&"parse"in window.JSON){var t;try{t=window.JSON.parse(e)}catch(r){a.error("libraryJsonParser",{data:e,errorMessage:r}),t={}}return t}if(null===e)return e;if("string"==typeof e&&(e=n.trim(e))){return new Function('return (function(){var at,ch,escapee={\'"\':\'"\',"\\\\":"\\\\","/":"/",b:"\\b",f:"\\f",n:"\\n",r:"\\r",t:"\\t"},text,error=function(m){throw {name:"SyntaxError",message:m,at:at,text:text};},next=function(c){if(c&&c!==ch){error("Expected \'"+c+"\' instead of \'"+ch+"\'");}ch=text.charAt(at);at+=1;return ch;},number=function(){var number,string="";if(ch==="-"){string="-";next("-");}while(ch>="0"&&ch<="9"){string+=ch;next();}if(ch==="."){string+=".";while(next()&&ch>="0"&&ch<="9"){string+=ch;}}if(ch==="e"||ch==="E"){string+=ch;next();if(ch==="-"||ch==="+"){string+=ch;next();}while(ch>="0"&&ch<="9"){string+=ch;next();}}number=+string;if(!isFinite(number)){error("Bad number");}else{return number;}},string=function(){var hex,i,string="",uffff;if(ch===\'"\'){while(next()){if(ch===\'"\'){next();return string;}if(ch==="\\\\"){next();if(ch==="u"){uffff=0;for(i=0;i<4;i+=1){hex=parseInt(next(),16);if(!isFinite(hex)){break;}uffff=uffff*16+hex;}string+=String.fromCharCode(uffff);}else{if(typeof escapee[ch]==="string"){string+=escapee[ch];}else{break;}}}else{string+=ch;}}}error("Bad string");},white=function(){while(ch&&ch<=" "){next();}},word=function(){switch(ch){case"t":next("t");next("r");next("u");next("e");return true;case"f":next("f");next("a");next("l");next("s");next("e");return false;case"n":next("n");next("u");next("l");next("l");return null;}error("Unexpected \'"+ch+"\'");},value,array=function(){var array=[];if(ch==="["){next("[");white();if(ch==="]"){next("]");return array;}while(ch){array.push(value());white();if(ch==="]"){next("]");return array;}next(",");white();}}error("Bad array");},object=function(){var key,object={};if(ch==="{"){next("{");white();if(ch==="}"){next("}");return object;}while(ch){key=string();white();next(":");if(Object.hasOwnProperty.call(object,key)){error(\'Duplicate key "\'+key+\'"\');}object[key]=value();white();if(ch==="}"){next("}");return object;}next(",");white();}}error("Bad object");};value=function(){white();switch(ch){case"{":return object();case"[":return array();case\'"\':return string();case"-":return number();default:return ch>="0"&&ch<="9"?number():word();}};return function(source,reviver){var result;text=source;at=0;ch=" ";result=value();white();if(ch){error("Syntax error");}return typeof reviver==="function"?(function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}({"":result},"")):result;};}())')()(e)}throw"Invalid JSON: "+e}}}},c=new function(){function e(t){var r=function(){try{return new window.XMLHttpRequest}catch(e){throw"No XMLHttpRequest support"}}(),o={0:200,1223:204},s=!!r&&"withCredentials"in r,l=t.url,u="",d=function(){var i=o[this.status]||this.status,s=!!this.responseText&&this.responseText,l=n(t.url,i);if(200!=i&&204!=i&&304!=i&&!l)return t.attempted?(s=!1,a.error("request_"+_this.getService(t.url),c("xhrRequest",t.type,t.url,i,2,r,this)),void t.callback(s)):(t.attempted=!0,a.error("request_"+_this.getService(t.url),c("xhrRequest",t.type,t.url,i,1,r,this)),e(t),void(s=!1));if(s&&""!=s||(a.debug("request_"+_this.getService(t.url),c("xhrRequest",t.type,t.url,i,t.attempted,r,"empty response")),s=!1),t.responseHeaders.length>0){s={responseText:s};for(var u=0;u<t.responseHeaders.length;u++){var d=r.getResponseHeader(t.responseHeaders[u]);d&&(s[t.responseHeaders[u]]=d)}}a.debug("request_"+_this.getService(t.url),c("xhrRequest",t.type,t.url,i,t.attempted,r,"ok")),t.callback(s)},g=function(e){a.error("request_"+_this.getService(t.url),c("xhrRequest",t.type,t.url,this.status,t.attempted,r,{textStatus:r.textStatus,errorMessage:e})),t.error({type:t.type,url:_this.getService(t.url),status:r.status,textStatus:r.textStatus})};if(!s)throw a.error("request_"+_this.getService(t.url),c("xhrRequest",t.type,t.url,null,t.attempted,r,"No crossdomain support")),"No crossdomain support";/^(GET|HEAD)$/i.test(t.type)&&(l=p(l,t.cache,f(t.data))),r.open(t.type,l,!0),0!=t.withCredentials&&(r.withCredentials=t.withCredentials),t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),!/^POST$/i.test(t.type)||"Content-Type"in t.headers||(t.headers["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8");for(i in t.headers)r.setRequestHeader(i,t.headers[i]);/x-www-form-urlencoded/.test(t.headers["Content-Type"])?u=f(t.data):/application\/json/.test(t.headers["Content-Type"])&&(u=JSON.stringify(t.data)),r.onload=d,r.onerror=g;try{r.send(u&&/^POST$/i.test(t.type)?u:null)}catch(e){throw a.error("request_"+_this.getService(t.url),c("xhrRequest",t.type,t.url,null,t.attempted,r,e)),e}}function n(e,t){return o(e,"_ssp")&&200!=t&&412!=t&&a.error("syncResponse",{url:e,status:t}),o(e,"_usp")&&403==t||o(e,"_csp")&&(404==t||0==t)||o(e,"_esp")&&(412==t||0==t)||o(e,"_ssp")&&(412==t||403==t)}function o(e,t){if(_$&&_$.config)return e.indexOf(_$.config.get(t))>-1}function c(e,t,r,a,n,i,o){var s={};s.initiator=e,s.type=t;var c=_this.getService(r);c?s.service=c:s.url=r,a&&(s.status=a);var u=l(r);if(u&&(s.performance=u),n&&(s.attempt=n),i){var d={};for(var g in i)/^statusText|status|responseURL|withCredentials|timeout|readyState$/.test(g)&&(d[g]=i[g]);s.xhr=d}return o&&(s.detail=o),s}function l(e){var r={},a=!1;if("performance"in window&&"getEntriesByType"in performance)for(var n=performance.getEntriesByType("resource"),i=0;i<n.length;i++)if(n[i].name.indexOf(e)>=0){var o;o="toJSON"in n[i]?n[i].toJSON():n[i];for(var s in o)/duration|decodedBodySize|encodedBodySize|nextHopProtocol|transferSize/.test(s)&&(r[s]=isNaN(o[s])||!isNaN(o[s])&&o[s]%1==0?o[s]:Number(o[s].toFixed(4)),a=!0);t&&(t.networkTime+=n[i].duration)}return a?r:null}function u(r,n){var i="",l=r.url,d=new XDomainRequest,g=null==n||n,h=function(n){if(g){g=!1;var i=parseInt(t.browser.version,10);i>=7&&i<=9?u(r,g):e(r)}else r.attempted=!0,a.error("request_"+_this.getService(r.url),c("XDRequest",n,r.url,null,2,null,{event:"tryAgain"})),r.error(logError)};i=f(r.data),/^(GET|HEAD)$/i.test(r.type)&&(l=p(l,r.cache,i)),d.open(r.type,l),d.onprogress=function(){},d.onload=function(){var e=!!d.responseText&&d.responseText,t=new s.get("jsonParser"),n=t.parse(e);if(e&&!("_id"in n))return r.attempted?(e=!1,a.error("request_"+_this.getService(l),c("XDRequest",r.type,l,null,2,d,e)),void r.callback(e)):(r.attempted=!0,a.error("request_"+_this.getService(l),c("XDRequest",r.type,l,null,1,d,{response:e,event:"load"})),u(r,g),void(e=!1));a.debug("request_"+_this.getService(l),c("XDRequest",r.type,l,null,r.attempted,d,null)),r.callback(e)},d.ontimeout=function(){a.error("request_"+_this.getService(l),c("XDRequest",r.type,l,null,r.attempted,d,{event:"timeout"})),h("timeout")},d.onerror=function(){a.error("request_"+_this.getService(l),c("XDRequest",r.type,l,null,r.attempted,d,{event:"onerror"})),h("error")},d.timeout=3e3,o(l,"_lp")&&(i=JSON.stringify(i)),d.send(i&&/^POST$/i.test(r.type)?i:null)}var d=(new Date).getTime();_this=this;var g=function(n,i){var o=n.url?n.url:"";try{var s=r.getRefererOrLocation();o=r.addQueryParam(o,"dnaReferer",s)}catch(e){a.error("httpRequest",{errorMessage:e})}var c={type:i,url:o,data:n.data?n.data:"",callback:"function"==typeof n.callback?n.callback:function(e){},error:"function"==typeof n.error?n.error:function(e){},cache:!!n.cache&&n.cache,ifModified:!!n.ifModified&&n.ifModified,headers:n.headers?n.headers:{},responseHeaders:n.responseHeaders?n.responseHeaders:{},dataType:n.dataType?n.dataType:"html",mimeType:n.mimeType?n.mimeType:"",withCredentials:!("withCredentials"in n)||n.withCredentials};Boolean(t.browser.isIE&&t.browser.major<=9)?u(c):e(c)};this.getService=function(e){return/.*\/service\/(\w+).*/.test(e)?RegExp.$1:/(?:https*:\/\/)*([\w\.]+)(\/.*)*/.test(e)?RegExp.$2:e.replace(/[\/:\.\?\=\&]/g,"")};var f=function(e){var t="";if("object"==typeof e&&e!={}){var r=[];for(var a in e)r.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));t=r.join("&")}else"string"==typeof e&&(t=e);return t},p=function(e,t,r){var a=/([?&])_=[^&]*/,n=function(e){return/\?/.test(e)?"&":"?"};return e+=r?n(e)+r:"",!1===t&&(e=a.test(e)?e.replace(a,"$1_="+d++):e+(n(e)+"_=")+d++),e};this.get=function(e){h(e,"GET")},this.post=function(e){h(e,"POST")},this.head=function(e){h(e,"HEAD")},this.doRequest=function(e){h(e)};var h=function(e,t){try{t=Boolean(t)?t:e.method,g(e,t)}catch(r){e.url&&e.url;a.error("request_"+_this.getService(e.url),c("callHttpRequest",t,e.url,null,null,null,r))}}},l=function(){var e,t,r;this.getUid=function(){return e},this.setUid=function(t){e=n.trim(String(t))},this.getLastUpdate=function(){return t},this.setLastUpdate=function(e){e&&(t="object"==typeof e?new Date(e.getTime()):"null"==e?"null":isNaN(e)||13!=String(e).length?new Date(parseInt(e,16)):new Date(parseInt(e,10)))},this.getDetectionFlag=function(){return r},this.setDetectionFlag=function(e){r="string"==typeof e?String(!0)==e:Boolean(e)},this.setAttributes=function(e){"object"==typeof e?(e.uid&&this.setUid(e.uid),e.lastUpdate&&this.setLastUpdate(e.lastUpdate),e.detectionFlag&&this.setDetectionFlag(e.detectionFlag)):"string"==typeof e&&this.parseString(e)},this.parseString=function(e){if("string"==typeof e){var t=_$.config.get("_cvs"),r=e.split(t);r[0]&&this.setUid(r[0]),r[1]&&this.setLastUpdate(r[1]),r[2]&&this.setDetectionFlag(r[2])}},this.getString=function(){var a=[];return a.push(e?n.trim(e):""),"object"==typeof t&&t?a.push(n.trim(t.getTime().toString(16))):"null"==t&&a.push(n.trim(t)),"boolean"==typeof r&&r&&a.push(String(r)),a.join("|")},this.getData=function(){return{uid:this.getUid(),lastUpdate:a.formatDate(this.getLastUpdate())}}},u=new function(){this.DeviceId=new function(){var e=new s.get("jsonParser"),r=function(r){var i=t.secGatewayUrl+_$.config.get("_usp")+"?elapsedTime="+a.getTime(),o=w.get(),s=!!o.forceUpdate&&o.forceUpdate,u=w.getRequest("/sample"),d=JSON.parse(r.data);if("attributes"in d)for(var g=0;g<d.attributes.length;g++){var f=d.attributes[g];if("socialNetworks"==Object.keys(f)){var p=Object.values(f);"false"!=p&&(d.socialNetworks=[{fb:p}])}}if(d=JSON.stringify(d),s||!u){var h=function(e){n(null),a.error("serverResponse",e),r.callback(!1)};c.post({url:i,cache:!1,data:d,dataType:"text",callback:function(t){if(w.addRequest("/sample"),t&&"string"==typeof t){var i=e.parse(t);if("_id"in i){var o=new l;o.setAttributes({uid:i._id,lastUpdate:"lastUpdate"in i?i.lastUpdate:"null"}),n(o.getString()),a.debug("serverResponse",{response:t}),r.callback(o)}else h({response:t,message:"invalid json",callback:!1})}else h({response:t,message:"invalid response",callback:!1})},error:function(e){h({errorMessage:e,callback:!1})}})}};this.create=function(e){_$.utils.parseData.parse(e,r)},this.update=function(e){_$.utils.parseData.parse(e,r)};var n=function(e){"test"!=_$.config.get("_sc")&&f.persistUid(e,t.id)}},this.Persistence=new function(){this.etagRequest=function(e){var r=t.secGatewayUrl+_$.config.get("_esp"),a={url:r,cache:!0,dataType:"text",headers:{},callback:!!e.callback&&e.callback,error:!!e.error&&e.error};"etag"in e&&(a.headers["If-None-Match"]=e.etag),c.get(a)},this.serverRequest=function(e){var r=t.secGatewayUrl+_$.config.get("_csp");c.get({url:r,cache:!1,dataType:"text",callback:e.callback,error:e.error})},this.imageRequest=function(e){var r=t.appUrl+_$.config.get("_imageServicePath_"),n=new Image;try{e&&(n.crossOrigin=""),n.src=String(r)}catch(e){a.error("imageRequest",{errorMessage:e})}return n}},this.simpleRequest=function(e){var r=n.isPagSeguroDomain()?t.secGatewayUrl:t.appUrl,i=r+_$.config.get("_srsp");c.get({url:i+"?id="+e.uid+"&sess="+e.sess+"&elapsedTime="+a.getTime(),cache:!1,dataType:"text",callback:function(t){a.debug("request_"+c.getService(i),{serverResponse:t}),"function"==typeof e.callback&&e.callback(t)},error:function(t){a.error("request_"+c.getService(i),{errorMessage:t}),"function"==typeof e.callback&&e.callback(!1)}})},this.sync=function(e){var r=t.secGatewayUrl+_$.config.get("_ssp");"uid"in e&&"string"==typeof e.uid&&""!=e.uid&&(r=r+"?id="+e.uid);var a={url:r,cache:!1,dataType:"text",withCredentials:!1,responseHeaders:["Date"],callback:e.callback,error:e.error};c.get(a)},this.getDptToken=function(e,t){this.sync({uid:e||"",callback:function(r){try{if(!r)throw new Error("Requisicao invalida");var n=!1;"token"in(n=new s.get("jsonParser").parse(r.responseText))&&t(e,n.token)}catch(e){a.error("sync",{errorMessage:e})}},error:function(e){a.error("sync",{errorMessage:e})}})}},d=function(){function e(){var e,a,i,o,s={};try{e=document.createElement("canvas"),e&&(a=e.getContext("2d"),i="measureText"in a)}catch(e){}var c="";if(e&&a&&i){var l=Date.now();o=t();var u=Date.now();n.newRelic.addPageAction("FontDetectionByCanvas",{processingTime:u-l,quantity:o.length}),c="javascriptCanvas"}else o=r(),c="javascriptCSS";return s.list=o.sort(),s.count=o.length,s.detection=c,s}function t(){var e=document.createElement("canvas"),t=e.getContext("2d");t.font="72px monospace";var r=t.measureText(d).width;t.font="72px serif";for(var a=t.measureText(d).width,n=[],i=0;i<w.length;i++){t.font="72px '"+w[i]+"', monospace";var o=t.measureText(d).width;t.font="72px '"+w[i]+"', serif";var c=t.measureText(d).width;r===o&&a===c||n.push(s(w[i]))}return n}function r(){for(var e=[],t=Date.now(),r=0;r<w.length;r++)a(w[r])&&e.push(s(w[r]));var i=Date.now();return n.newRelic.addPageAction("FontDetectionByCSS",{processingTime:i-t,quantity:e.length}),e}function a(e){if(p.style.cssText=g,!f){c=l.getElementsByTagName("body")[0];for(var t in u)p.style.fontFamily=u[t],c.appendChild(p),h[u[t]]=p.offsetWidth,m[u[t]]=p.offsetHeight,c.removeChild(p);f=!0}var r=!0;for(var t in u){p.style.fontFamily=e+","+u[t],c.appendChild(p);var a=p.offsetWidth!=h[u[t]]||p.offsetHeight!=m[u[t]];a&&-1==i(p,"font-family").indexOf(o(e))&&(a=!1),r=!!a,c.removeChild(p)}return r}function i(e,t){var r="";return l.defaultView&&l.defaultView.getComputedStyle?r=l.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),r=e.currentStyle[t]),r}function o(e){return e.split(",")[0].replace(/["']/g,"")}function s(e){return e=e.replace(/\s/g,""),b(e).toLowerCase()}var c,l=arguments.length>=1?arguments[1]:document,u=["monospace","serif"],d="TheQuickBrownFoxJumpsOverTheLazyDog. 1234567890",g="font-size:72px;white-space:nowrap;visibility:hidden;",f=!1,p=l.createElement("span"),h={},m={},v={win:["Agency FB","Algerian","Arial Narrow","Baskerville Old Face","Bell MT","Berlin Sans FB","Bernard MT Condensed","Blackadder ITC","Bodoni MT","Bodoni MT Black","Book Antiqua","Bookman Old Style","Bradley Hand ITC","Broadway","Brush Script MT","Calibri","Calibri Light","Californian FB","Calisto MT","Cambria","Cambria Math","Candara","Castellar","Centaur","Century","Century Gothic","Century Schoolbook","Chiller","Colonna MT","Comic Sans MS","Consolas","Constantia","Cooper Black","Corbel","Curlz MT","Ebrima","Edwardian Script ITC","Elephant","Engravers MT","Felix Titling","Footlight MT Light","Forte","Franklin Gothic Book","Freestyle Script","French Script MT","Gabriola","Gadugi","Garamond","Gigi","Gill Sans MT","Gill Sans MT Condensed","Goudy Old Style","Goudy Stout","Haettenschweiler","Harrington","Helvetica","High Tower Text","Imprint MT Shadow","Informal Roman","Jokerman","Juice ITC","Kristen ITC","Kunstler Script","Leelawadee","Lucida Bright","Lucida Calligraphy","Lucida Fax","Lucida Handwriting","Lucida Sans Typewriter","Magneto","Maiandra GD","Malgun Gothic","Matura MT Script Capitals","Microsoft Himalaya","Microsoft JhengHei","Microsoft JhengHei UI","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft YaHei UI","Microsoft Yi Baiti","MingLiU-ExtB","Mistral","Mongolian Baiti","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Reference Specialty","MS Sans Serif","MS UI Gothic","Myanmar Text","Niagara Engraved","Niagara Solid","Nirmala UI","NSimSun","Old English Text MT","Onyx","Palace Script MT","Papyrus","Parchment","Perpetua","Perpetua Titling MT","Playbill","PMingLiU-ExtB","Poor Richard","Pristina","Ravie","Rockwell","Rockwell Condensed","Segoe Print","Segoe UI Symbol","Showcard Gothic","SimSun-ExtB","Snap ITC","Stencil","Tempus Sans ITC","Tw Cen MT","Viner Hand ITC","Vivaldi","Vladimir Script","Wide Latin","Aharoni","Andalus","Angsana New","AngsanaUPC","Aparajita","Arabic Typesetting","Arial","Arial Black","Arial Rounded MT Bold","Arial Unicode MS","Batang","BatangChe","Bauhaus 93","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Britannic Bold","Browallia New","BrowalliaUPC","Copperplate Gothic Bold","Copperplate Gothic Light","Cordia New","CordiaUPC","Courier","Courier New","DaunPenh","David","DFKai-SB","DilleniaUPC","DokChampa","Dotum","DotumChe","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","Estrangelo Edessa","EucrosiaUPC","Euphemia","FangSong","Fixedsys","Franklin Gothic Demi","Franklin Gothic Demi Cond","Franklin Gothic Heavy","Franklin Gothic Medium","Franklin Gothic Medium Cond","FrankRuehl","FreesiaUPC","Gautami","Georgia","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","Gulim","GulimChe","Gungsuh","GungsuhChe","Harlow Solid Italic","Impact","IrisUPC","Iskoola Pota","JasmineUPC","KaiTi","Kalinga","Khmer UI","KodchiangUPC","Kokila","Lao UI","Latha","Levenim MT","LilyUPC","Lucida Console","Lucida Sans","Lucida Sans Unicode","Mangal","Meiryo","Meiryo UI","Microsoft Sans Serif","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","Miriam","Miriam Fixed","Modern","Modern No. 20","MoolBoran","MS Mincho","MS PMincho","MS Serif","MT Extra","MV Boli","Narkisim","Nyala","OCR A Extended","Palatino Linotype","Plantagenet Cherokee","PMingLiU","Raavi","Rage Italic","Rod","Roman","Sakkal Majalla","sans-serif","Script","Script MT Bold","Segoe Script","Segoe UI","Shonar Bangla","Shruti","SimHei","Simplified Arabic","Simplified Arabic Fixed","Small Fonts","Sylfaen","Symbol","System","Tahoma","Terminal","Times New Roman","Traditional Arabic","Trebuchet MS","Tunga","Utsaah","Vani","Verdana","Vijaya","Vrinda","Webdings","Wingdings","Wingdings 2","Wingdings 3"],
ios:["Academy Engraved LET Plain:1.0","American Typewriter","American Typewriter Bold","American Typewriter Condensed","American Typewriter Condensed Bold","American Typewriter Condensed Light","American Typewriter Light","Apple Color Emoji","Apple SD Gothic Neo Bold","Apple SD Gothic Neo Heavy","Apple SD Gothic Neo Light","Apple SD Gothic Neo Medium","Apple SD Gothic Neo Regular","Apple SD Gothic Neo SemiBold","Apple SD Gothic Neo Thin","Apple SD Gothic Neo UltraLight","Apple SD GothicNeo ExtraBold","AppleGothic Regular","AppleMyungjo Regular","Arial","Arial Bold","Arial Bold Italic","Arial Hebrew","Arial Hebrew Bold","Arial Italic","Arial Rounded MT Bold","Avenir Black","Avenir Black Oblique","Avenir Book","Avenir Book Oblique","Avenir Heavy","Avenir Heavy Oblique","Avenir Light","Avenir Light Oblique","Avenir Medium","Avenir Medium Oblique","Avenir Next Bold","Avenir Next Bold Italic","Avenir Next Condensed Bold","Avenir Next Condensed Bold Italic","Avenir Next Condensed Demi Bold","Avenir Next Condensed Demi Bold Italic","Avenir Next Condensed Heavy","Avenir Next Condensed Heavy Italic","Avenir Next Condensed Italic","Avenir Next Condensed Medium","Avenir Next Condensed Medium Italic","Avenir Next Condensed Regular","Avenir Next Condensed Ultra Light","Avenir Next Condensed Ultra Light Italic","Avenir Next Demi Bold","Avenir Next Demi Bold Italic","Avenir Next Heavy","Avenir Next Heavy Italic","Avenir Next Italic","Avenir Next Medium","Avenir Next Medium Italic","Avenir Next Regular","Avenir Next Ultra Light","Avenir Next Ultra Light Italic","Avenir Oblique","Avenir Roman","Bangla Sangam MN","Bangla Sangam MN Bold","Baoli SC Regular","Baskerville","Baskerville Bold","Baskerville Bold Italic","Baskerville Italic","Baskerville SemiBold","Baskerville SemiBold Italic","BiauKai","Bodoni 72 Bold","Bodoni 72 Book","Bodoni 72 Book Italic","Bodoni 72 Oldstyle Bold","Bodoni 72 Oldstyle Book","Bodoni 72 Oldstyle Book Italic","Bodoni 72 Smallcaps Book","Bodoni Ornaments","Bradley Hand Bold","Chalkboard SE Bold","Chalkboard SE Light","Chalkboard SE Regular","Chalkduster","Cochin","Cochin Bold","Cochin Bold Italic","Cochin Italic","Copperplate","Copperplate Bold","Copperplate Light","Courier","Courier Bold","Courier Bold Oblique","Courier New","Courier New Bold","Courier New Bold Italic","Courier New Italic","Courier Oblique","Devanagari Sangam MN","Devanagari Sangam MN Bold","Didot","Didot Bold","Didot Italic","Euphemia UCAS","Euphemia UCAS Bold","Euphemia UCAS Italic","Futura Condensed ExtraBold","Futura Condensed Medium","Futura Medium","Futura Medium Italic","Geeza Pro","Geeza Pro Bold","Georgia","Georgia Bold","Georgia Bold Italic","Georgia Italic","Gill Sans","Gill Sans Bold","Gill Sans Bold Italic","Gill Sans Italic","Gill Sans Light","Gill Sans Light Italic","Gujarati Sangam MN","Gujarati Sangam MN Bold","Gurmukhi MN","Gurmukhi MN Bold","HeadLineA Regular","Heiti SC Light","Heiti SC Medium","Heiti TC Light","Heiti TC Medium","Helvetica","Helvetica Bold","Helvetica Bold Oblique","Helvetica Light","Helvetica Light Oblique","Helvetica Neue","Helvetica Neue Bold","Helvetica Neue Bold Italic","Helvetica Neue Condensed Black","Helvetica Neue Condensed Bold","Helvetica Neue Italic","Helvetica Neue Light","Helvetica Neue Light Italic","Helvetica Neue Medium","Helvetica Neue UltraLight","Helvetica Neue UltraLight Italic","Helvetica Oblique","Hiragino Kaku Gothic ProN W3","Hiragino Kaku Gothic ProN W6","Hiragino Kaku Gothic StdN W8","Hiragino Maru Gothic ProN W4","Hiragino Mincho ProN W3","Hiragino Mincho ProN W6","Hiragino Sans GB W3","Hiragino Sans GB W6","Hoefler Text","Hoefler Text Black","Hoefler Text Black Italic","Hoefler Text Italic","Kailasa Bold","Kailasa Regular","Kaiti SC Black","Kaiti SC Bold","Kaiti SC Regular","Kannada Sangam MN","Kannada Sangam MN Bold","Lantinghei SC Demibold","Lantinghei SC Extralight","Lantinghei SC Heavy","Lantinghei TC Demibold","Lantinghei TC Extralight","Lantinghei TC Heavy","Libian SC Regular","LiHei Pro","LiSong Pro","Malayalam Sangam MN","Malayalam Sangam MN Bold","Marion Bold","Marion Italic","Marion Regular","Marker Felt Thin","Marker Felt Wide","Nanum Brush Script","Nanum Pen Script","NanumGothic","NanumGothic Bold","NanumGothic ExtraBold","NanumMyeongjo","NanumMyeongjo Bold","NanumMyeongjo ExtraBold","Noteworthy Bold","Noteworthy Light","Optima Bold","Optima Bold Italic","Optima ExtraBlack","Optima Italic","Optima Regular","Oriya Sangam MN","Oriya Sangam MN Bold","Palatino","Palatino Bold","Palatino Bold Italic","Palatino Italic","Papyrus","Papyrus Condensed","Party LET Plain","PCMyungjo Regular","PilGi Regular","Sinhala Sangam MN","Sinhala Sangam MN Bold","Snell Roundhand","Snell Roundhand Black","Snell Roundhand Bold","Songti SC Black","Songti SC Bold","Songti SC Light","Songti SC Regular","STFangsong","Symbol","Tamil Sangam MN","Tamil Sangam MN Bold","Telugu Sangam MN","Telugu Sangam MN Bold","Thonburi","Thonburi Bold","Times New Roman","Times New Roman Bold","Times New Roman Bold Italic","Times New Roman Italic","Trebuchet MS","Trebuchet MS Bold","Trebuchet MS Bold Italic","Trebuchet MS Italic","Verdana","Verdana Bold","Verdana Bold Italic","Verdana Italic","Wawati SC Regular","Wawati TC Regular","Weibei SC Bold","Weibei TC Bold","Xingkai SC Bold","Xingkai SC Light","Yuanti SC Bold","Yuanti SC Light","Yuanti SC Regular","YuGothic Bold","YuGothic Medium","YuMincho Demibold","YuMincho Medium","Yuppy SC Regular","Yuppy TC Regular","Zapf Dingbats","Zapfino","Wingdings","Futura","Noto Sans Yi","Optima"],mac:["Abadi MT Condensed Extra Bold","Abadi MT Condensed Light","Al Bayan Bold","Al Bayan Plain","American Typewriter Bold","American Typewriter Condensed","American Typewriter Light","Apple Braille Outline 6 Dot","Apple Braille Pinpoint 6 Dot","AppleGothic Regular","Apple LiGothic Medium","Apple LiSung Light","AppleMyungjo Regular","Apple SD Gothic Neo","Apple SD GothicNeo ExtraBold","Apple SD Gothic Neo Regular","Arial Bold","Arial Bold Italic","Arial Hebrew Bold","Arial Italic","Arial Narrow Bold","Arial Narrow Bold Italic","Arial Narrow Italic","Avenir","Avenir Black","Avenir Next","Avenir Next Bold","Avenir Next Condensed","Avenir Next Condensed Bold","Avenir Next Demi Bold","Avenir Next Heavy","Avenir Next Regular","Bangla MN Bold","Bangla Sangam MN Bold","Baskerville Bold","Baskerville Bold Italic","Baskerville SemiBold","Baskerville SemiBold Italic","Bell MT Bold","Bell MT Italic","Bernard MT Condensed","Big Caslon Medium","Book Antiqua","Book Antiqua Bold","Bookman Old Style","Bookman Old Style Bold","Bookshelf Symbol 7","Braggadocio","Britannic Bold","Brush Script MT Italic","Calibri","Calibri Bold","Calibri Light","Calisto MT","Calisto MT Bold","Cambria","Cambria Bold","Cambria Math","Candara Bold","Century","Century Gothic","Century Gothic Bold","Century Schoolbook","Century Schoolbook Bold","Chalkboard Bold","Chalkboard SE","Chalkboard SE Bold","Cochin Bold","Colonna MT","Comic Sans MS Bold","Consolas","Consolas Bold","Constantia","Constantia Bold","Cooper Black","Copperplate Bold","Copperplate Gothic Bold","Copperplate Light","Corbel","Corbel Bold","Corsiva Hebrew Bold","Courier Bold","Courier New Bold","Courier New Italic","Courier Oblique","Curlz MT","Damascus Bold","Desdemona","Devanagari MT Bold","Didot Bold","Edwardian Script ITC","Engravers MT","Engravers MT Bold","Euphemia UCAS Bold","Eurostile","Eurostile Bold","Footlight MT Light","Franklin Gothic Book","Franklin Gothic Book Italic","Franklin Gothic Medium","Franklin Gothic Medium Italic","Futura Condensed ExtraBold","Futura Medium","Gabriola","Garamond","Garamond Bold","Geeza Pro Bold","Georgia Bold","Gill Sans Bold","Gill Sans MT","Gill Sans MT Bold","Gill Sans MT Italic","Gill Sans Ultra Bold","Gloucester MT Extra Condensed","Goudy Old Style","Goudy Old Style Bold","Gujarati MT Bold","Gujarati Sangam MN Bold","Gulim","GungSeo Regular","Gurmukhi MN Bold","Gurmukhi Sangam MN","Gurmukhi Sangam MN Bold","Haettenschweiler","Harrington","HeadLineA Regular","Hei Regular","Heiti SC Light","Heiti TC Light","Helvetica Bold","Helvetica CY Bold","Helvetica CY Plain","Helvetica Light","Helvetica Neue Bold","Helvetica Neue Medium","Helvetica Oblique","Hiragino Kaku Gothic ProN W3","Hiragino Kaku Gothic Pro W3","Hiragino Kaku Gothic StdN W8","Hiragino Maru Gothic ProN W4","Hiragino Mincho ProN W3","Hiragino Mincho ProN W6","Hiragino Sans GB W3","Hiragino Sans GB W6","Hoefler Text Black","Hoefler Text Ornaments","Imprint MT Shadow","Kailasa Regular","Kai Regular","Kaiti SC","Kaiti SC Black","Kannada MN Bold","Kannada Sangam MN Bold","Kefa Bold","Khmer MN Bold","Kino MT","Kokonor Regular","Lucida Blackletter","Lucida Bright","Lucida Bright Demibold","Lucida Bright Demibold Italic","Lucida Bright Italic","Lucida Calligraphy","Lucida Calligraphy Italic","Lucida Console","Lucida Fax","Lucida Fax Demibold","Lucida Fax Regular","Lucida Grande Bold","Lucida Handwriting","Lucida Handwriting Italic","Lucida Sans","Lucida Sans Demibold Italic","Lucida Sans Typewriter","Lucida Sans Typewriter Bold","Lucida Sans Unicode","Malayalam MN Bold","Malayalam Sangam MN Bold","Marion","Marion Bold","Marker Felt Thin","Marlett","Matura MT Script Capitals","Meiryo","Meiryo Bold","Menlo Bold","Microsoft Himalaya","Microsoft Tai Le","Microsoft Tai Le Bold","Microsoft Yi Baiti","MingLiU","MingLiU-ExtB","MingLiU_HKSCS","Mistral","Modern","Modern No. 20","Mongolian Baiti","Monotype Corsiva","Monotype Sorts","MS Gothic","Mshtakan Bold","MS Mincho","MS PGothic","MS PMincho","MS Reference Sans Serif","MS Reference Specialty","MT Extra","Myanmar MN Bold","NanumGothic","Nanum Gothic","NanumGothic Bold","NanumMyeongjo","Nanum Myeongjo","NanumMyeongjo Bold","New Peninim MT Bold","News Gothic MT","News Gothic MT Bold","Noteworthy Bold","Onyx","Optima Bold","Optima Regular","Oriya MN Bold","Oriya Sangam MN Bold","Osaka-Mono","Palatino Bold","Palatino Linotype","Palatino Linotype Bold","Papyrus Condensed","PCMyungjo Regular","Perpetua","Perpetua Bold","Perpetua Titling MT","Perpetua Titling MT Bold","PilGi Regular","Playbill","PMingLiU","PMingLiU-ExtB","PT Sans Bold","PT Sans Caption Bold","PT Sans Narrow Bold","Raanana Bold","Rockwell","Rockwell Bold","Rockwell Extra Bold","Rockwell Italic","SimHei","Sinhala MN Bold","Sinhala Sangam MN Bold","Skia Regular","Songti SC","Songti SC Black","Stencil","STIXGeneral-Bold","STIXGeneral-Regular","STIXIntegralsD-Bold","STIXIntegralsSm-Bold","STIXIntegralsUp-Bold","STIXIntegralsUpD-Bold","STIXIntegralsUpD-Regular","STIXIntegralsUp-Regular","STIXIntegralsUpSm-Bold","STIXNonUnicode-Bold","STIXSizeFiveSym-Regular","STIXSizeFourSym-Bold","STIXSizeOneSym-Bold","STIXSizeThreeSym-Bold","STIXSizeTwoSym-Bold","STIXVariants-Bold","STXihei","Tahoma Negreta","Tamil MN Bold","Tamil Sangam MN Bold","Telugu MN Bold","Telugu Sangam MN Bold","Thonburi Bold","Times Bold","Times New Roman Bold","Times New Roman Italic","Times Roman","Trebuchet MS Bold","Tw Cen MT","Tw Cen MT Bold","Tw Cen MT Italic","Verdana Bold","Wide Latin","Yuppy SC","Yuppy SC Regular","Yuppy TC","Yuppy TC Regular","Arial","Arial Black","Arial Unicode MS","Brush Script MT","Comic Sans MS","Courier New","Georgia","Gill Sans Ultra Bold Condensed","Impact","Microsoft JhengHei","Microsoft Sans Serif","Papyrus","Plantagenet Cherokee","Roman","Symbol","Tahoma","Times New Roman","Trebuchet MS","Verdana","Webdings","Wingdings","Wingdings 2","Wingdings 3"],linux:["Andale Mono","Arial","Arial Black","AR PL UKai CN","AR PL UMing CN","Batang","Bitstream Vera Sans","Comic Sans MS","Courier New","Cursor","DejaVu LGC Sans","DejaVu Sans","DejaVu Sans Mono","DejaVu Serif","Dotum","Droid Sans","FreeMono","FreeSans","FreeSerif","gargi","Garuda","Georgia","Hei","Impact","KacstArt","Kedage","Khmer OS","Khmer OS System","Kinnari","Liberation Sans Narrow","Lohit Bengali","Loma","Lucida Bright","Lucida Sans","Lucida Sans Typewriter","Luxi Mono","Mallige","Meera","Monospace","mry_KacstQurn","Mukti Narrow","NanumGothic","NanumMyeongjo","Nimbus Sans L Condensed","Norasi","OpenSymbol","ori1Uni","Phetsarath OT","Pothana2000","Purisa","Rachana","Rekha","Saab","Sawasdee","System","TakaoPGothic","Times","Times New Roman","TlwgMono","TlwgTypewriter","Tlwg Typist","Tlwg Typo","Trebuchet MS","Ubuntu","Ubuntu Condensed","Ume Gothic","Ume Mincho","Ume P Gothic","Ume P Mincho","Ume UI Gothic","Umpush","UnBatang","UnDinaru","UnDotum","UnGraphic","UnGungseo","UnPilgi","Untitled1","Utopia","Vemana2000","Verdana","Waree","Webdings","WenQuanYi Bitmap Song","WenQuanYi Micro Hei","WenQuanYi Zen Hei","Courier","Tahoma","Monaco"]},y="getOS"in window?window.getOS():n.getOS(),w="other"===y?v.win:"android"===y?v.linux:v[y],b="toHtmlEntities"in window?window.toHtmlEntities:n.toHtmlEntities;return p.innerHTML=d,{detect:function(e){return a(e)},returnInstalledFonts:function(){return e()}}},p=function(){this.sendMetric=function(){n&&n.newRelic&&n.newRelic.addPageAction&&n.newRelic.addPageAction.apply(null,arguments)},this.get=function(e){var t=!1,r=Date.now();try{if("function"!=typeof this.list[e])return t;t=new this.list[e]}catch(t){a.error(e,{errorMessage:t})}finally{this.sendMetric(e,{processingTime:Date.now()-r})}return t},this.list={sessionStorage:function(){this.type="boolean",this.get=function(){return Boolean("sessionStorage"in window)}},browserPermissions:function(){this.ready=!1,this.async=!0,this.type="array";var e=[];this.init=function(){try{var t=Date.now(),r=window.getExternalDataIframeDetections.get(_$.config.get("_guid"),"browserPermissions");"notification"in r&&e.push(JSON.stringify({notification:r.notification}));var a=Date.now()}catch(e){console.warn(e),n.newRelic.sendEventError(e,{errorDetect:"browserPermissions",errorMessage:e.message,processingTime:a-t})}},this.get=function(){return e},this.isAvailable=function(){return e.length>0}},getBase64Canvas:function(e){this.type="string";var r=!1,i=!1;t.browser.isIE&&t.browser.major<=8?this.get=function(){return!1}:(this.init=function(t){try{var o=Date.now(),s=document.createElement("canvas"),c=s.getContext("2d"),l=e||_$.config.get("_ws");c.textBaseline="top",c.font="14px 'Arial'",c.textBaseline="alphabetic",c.fillStyle="#f60",c.fillRect(125,1,62,20),c.fillStyle="#069",c.fillText(l,2,15),c.fillStyle="rgba(102, 204, 0, 0.7)",c.fillText(l,4,17);var u=s.toDataURL();n.getSha1(u,function(e){i=e,r=!0});var d=Date.now()}catch(e){a.error("getBase64Canvas",{errorMessage:e}),n.newRelic.sendEventError(e,{errorDetect:"getBase64Canvas",errorMessage:e.message,processingTime:d-o}),i=!1,r=!0}},this.get=function(){return i},this.isAvailable=function(){return r})},getHashCanvas:function(e){this.type="string";var t=!1,r=!1,i=document.createElement("canvas");i&&i.getContext&&i.getContext("2d")?(this.init=function(e){try{var o=Date.now(),s=i.getContext("2d");s.rotate(-5*Math.PI/180);var c=s.createRadialGradient(75,50,5,90,60,100);c.addColorStop(".10","#f0f"),c.addColorStop(".35","#00f"),c.addColorStop(".55","#0f0"),c.addColorStop(".70","#ff0"),c.addColorStop("1.0","#f00"),s.fillStyle=c,s.fillRect(2,18,146,30),s.rotate(25*Math.PI/180),s.fillStyle="rgba(252, 0, 73, 0.4)",s.fillRect(5,-10,55,25),s.fillStyle="rgba(231, 232, 96, 0.5)",s.fillRect(35,-20,55,25),s.fillStyle="rgba(0, 200, 145, 0.6)",s.fillRect(65,-30,55,25),s.fillStyle="rgba(0, 151, 209, 0.7)",s.fillRect(95,-40,55,25),s.rotate(-20*Math.PI/180),s.lineWidth=3,s.shadowOffsetX=6,s.shadowOffsetY=6,s.shadowBlur=4,s.strokeStyle="#fff",s.shadowColor="#fff",s.beginPath(),s.moveTo(0,3),s.lineTo(150,27),s.stroke();var l=s.getImageData(0,0,i.width,i.height).data.toString();n.getSha1(l,function(e){r=e,t=!0});var u=Date.now()}catch(e){a.warning("getHashCanvas",{errorMessage:e}),n.newRelic.sendEventError(e,{errorDetect:"getHashCanvas",errorMessage:e.message,processingTime:u-o}),r=!1,t=!0}},this.get=function(){return r},this.isAvailable=function(){return t}):this.get=function(){return!1}},getAudioFingerprint:function(){this.type="string";var e=!1,t=null,r={};this.setCompressorValue=function(e,t,r){void 0!==compressor[e]&&"function"==typeof compressor[e].setValueAtTime&&compressor[e].setValueAtTime(t,r.currentTime)};var i=window.OfflineAudioContext||window.webkitOfflineAudioContext;i?(this.init=function(){try{var o=Date.now();ctx=new i(1,44100,44100),currentTime=ctx.currentTime,oscillator=ctx.createOscillator(),oscillator.frequency.setValueAtTime(1e4,currentTime),oscillator.type="triangle",compressor=ctx.createDynamicsCompressor(),this.setCompressorValue("attack",0,ctx),this.setCompressorValue("knee",40,ctx),this.setCompressorValue("ratio",12,ctx),this.setCompressorValue("reduction",-20,ctx),this.setCompressorValue("release",.25,ctx),this.setCompressorValue("threshold",-50,ctx),oscillator.connect(compressor),compressor.connect(ctx.destination),oscillator.start(0),ctx.startRendering(),ctx.oncomplete=function(a){for(var i=4500;5e3>i;i++){var o=a.renderedBuffer.getChannelData(0)[i];t+=Math.abs(o)}n.getSha1(t.toString(),function(t){r=t,e=!0,compressor.disconnect()})};var s=Date.now()}catch(t){a.error("getAudioFingerprint",{errorMessage:t}),n.newRelic.sendEventError(t,{errorDetect:"getAudioFingerprint",errorMessage:t.message,processingTime:s-o}),r=!1,e=!0}},this.get=function(){return r},this.isAvailable=function(){return e}):this.get=function(){}},gaUniqueID:function(){this.type="json";var e={},t=function(){if("ga"in window&&ga&&ga.getAll)try{var t=ga.getAll()[0];if(t){var r=Date.now(),i=t.get("clientId"),o=t.get("_gid");e.clientId=i,e._gid=o;var s=Date.now();return!0}return!1}catch(e){return a.error("gaUniqueID",{errorMessage:e}),n.newRelic.sendEventError(e,{errorDetect:"gaUniqueID",errorMessage:e.message,processingTime:s-r}),!1}else if(/_ga|_gid/.test(document.cookie))return e.clientId=n.getCookie(document.cookie,"_ga").slice(6),e._gid=n.getCookie(document.cookie,"_gid").slice(6),!0;return!1};this.init=function(){t()},this.isAvailable=function(){return e||t()},this.get=function(){return e}},supportedVideoFormats:function(){if(this.async=!0,this.type="string","HTMLVideoElement"in window){var e=['video/mp4; codecs="flac"','video/mp4; codecs="H.264, mp3"','video/mp4; codecs="H.264, aac"','video/mpeg; codec="H.264"','video/ogg; codecs="theora"','video/ogg; codecs="opus"','video/webm; codecs="vp9, opus"','video/webm; codecs="vp8, vorbis"'],t=!1,r=null,i=[];this.init=function(){try{for(var o=Date.now(),s=document.createElement("video"),c=0;c<e.length;c++){var l=e[c];("probably"==s.canPlayType(l)||"maybe"==s.canPlayType(l))&&i.push(l.replace(/[\s"]/g,""))}n.orderAndHash(i,null,function(e){r=e,t=!0});var u=Date.now()}catch(e){a.error("supportedVideoFormats",{errorMessage:e}),n.newRelic.sendEventError(e,{errorDetect:"supportedVideoFormats",errorMessage:e.message,processingTime:u-o}),i=!1}},this.get=function(){return r},this.isAvailable=function(){return t}}else this.get=function(){return!1}},supportedAudioFormats:function(){if(this.async=!0,this.type="string","HTMLAudioElement"in window){var e=["audio/3gpp","audio/3gpp2","audio/AMR-NB","audio/AMR-WB","audio/GSM","audio/aac","audio/basic","audio/flac","audio/midi","audio/mpeg",'audio/mp4; codecs="mp4a.40.2"','audio/mp4; codecs="ac-3"','audio/mp4; codecs="ec-3"','audio/ogg; codecs="flac"','audio/ogg; codecs="vorbis"','audio/ogg; codecs="opus"','audio/wav; codecs="1"','audio/webm; codecs="vorbis"','audio/webm; codecs="opus"',"audio/x-aiff","audio/x-mpegurl"],t=!1,r=null,i=[];this.init=function(){try{for(var o=Date.now(),s=document.createElement("audio"),c=0;c<e.length;c++){var l=e[c];("probably"==s.canPlayType(l)||"maybe"==s.canPlayType(l))&&i.push(l.replace(/[\s"]/g,""))}n.orderAndHash(i,null,function(e){r=e,t=!0});var u=Date.now()}catch(e){a.error("supportedAudioFormats",{errorMessage:e}),n.newRelic.sendEventError(e,{errorDetect:"supportedAudioFormats",errorMessage:e.message,processingTime:u-o}),i=!1}},this.get=function(){return r},this.isAvailable=function(){return t}}else this.get=function(){return!1}},extensions:function(){this.async=!0,this.type="array";var e=null;try{if(t.browser.isChrome){this.get=function(){return e};var r=Date.now();this.isAvailable=function(){return null!=(e=window.getExternalDataIframeDetections.get(_$.config.get("_guid"),"detectBrowserExtensions"))};var a=Date.now()}else this.get=function(){return!1}}catch(e){n.newRelic.sendEventError(e,{errorDetect:"extensions",processingTime:a-r})}},getAudioContext:function(){this.type="string";var e=!1,t={};this.setProperties=function(e,t,r){for(var a in t)"dopplerFactor"===a||"speedOfSound"===a||"currentTime"===a||"number"!=typeof t[a]&&"string"!=typeof t[a]||(e[(r||"")+a]=t[a]);return e};var r=window.AudioContext||window.webkitAudioContext;if(r)try{this.init=function(){try{var i=Date.now(),o=new r;analyser=o.createAnalyser(),audioContextProperties=null,audioContextProperties=this.setProperties({},o,"ac-"),audioContextProperties=this.setProperties(audioContextProperties,o.destination,"ac-"),audioContextProperties=this.setProperties(audioContextProperties,o.listener,"ac-"),audioContextProperties=this.setProperties(audioContextProperties,analyser,"an-"),delete audioContextProperties["ac-state"],delete audioContextProperties["ac-sampleRate"],delete audioContextProperties["ac-baseLatency"],n.getSha1(audioContextProperties,function(r){t=r,e=!0});var s=Date.now()}catch(r){a.error("getAudioContext",{errorMessage:r}),n.newRelic.sendEventError(r,{errorDetect:"getAudioContext",errorMessage:r.message,processingTime:s-i}),t=!1,e=!0}},this.get=function(){return t},this.isAvailable=function(){return e}}catch(e){a.error("getAudioContext",{errorMessage:e}),t=!1}else this.get=function(){}},ieAddBehavior:function(){if(this.type="boolean",t.browser.isIE){var e=!1;this.get=function(){try{var t=Date.now(),r=document.createElement("span");behaviorTest=Boolean(r.addBehavior),e=behaviorTest;var i=Date.now()}catch(r){a.warning("ieAddBehavior",{errorMessage:r}),n.newRelic.sendEventError(r,{errorDetect:"ieAddBehavior",errorMessage:r.message,processingTime:i-t}),e=!1}return e}}else this.get=function(){}},getBase64ImageCanvas:function(){this.type="string";var e=document.createElement("canvas"),t=null;if("getContext"in e&&e.getContext("2d")){var r=function(e){try{var r=Date.now(),i=document.createElement("canvas"),o=i.getContext("2d");i.width=5,i.height=1;for(var s=function(e,t){for(var r=[],a=-1,n=String(e),i=n.length,o=0;o<t;o++){var s=++a<i?n.charCodeAt(a):43,c=++a<i?n.charCodeAt(a):43,l=++a<i?n.charCodeAt(a):43;r.push([s,c,l])}return r}(e,5),c=0;c<s.length;c++)o.fillStyle="rgba("+s[c][0]+","+s[c][1]+","+s[c][2]+",1)",o.fillRect(c%5,parseInt(c/5),1,1);t=i.toDataURL();var l=Date.now()}catch(e){a.warning("getBase64ImageCanvas",{errorMessage:e}),n.newRelic.sendEventError(e,{errorDetect:"getBase64ImageCanvas",errorMessage:e.message,processingTime:l-r})}};this.init=function(e){e&&!isNaN(e)?r(e):(t="",a.error("getBase64ImageCanvas","empty value"))},this.get=function(){return t},this.isAvailable=function(){return null!==t}}else this.init=function(e){},this.get=function(){return""},this.isAvailable=function(){return!0}},getBase64WebGL:function(){var e=null,t=document.createElement("canvas"),r=!1;this.type="string";var i;try{i="WebGLRenderingContext"in window&&t.getContext("webgl")||t.getContext("experimental-webgl")||!1}catch(e){i=!1}if(i){var o=function(){function t(){var e=c.createShader(c.VERTEX_SHADER);c.shaderSource(e,"attribute vec3 aVertexPosition; attribute vec4 aVertexColor; uniform mat4 uMVMatrix; uniform mat4 uPMatrix; varying vec4 vColor; void main(void) { gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0); vColor = aVertexColor; }"),c.compileShader(e);var t=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(t,"precision mediump float; varying vec4 vColor; void main(void) { gl_FragColor = vColor; }"),c.compileShader(t),l=c.createProgram(),c.attachShader(l,e),c.attachShader(l,t),c.linkProgram(l),c.getProgramParameter(l,c.LINK_STATUS)||a.error("getBase64WebGL","Could not initialise shaders"),c.useProgram(l),l.vertexPositionAttribute=c.getAttribLocation(l,"aVertexPosition"),c.enableVertexAttribArray(l.vertexPositionAttribute),l.vertexColorAttribute=c.getAttribLocation(l,"aVertexColor"),c.enableVertexAttribArray(l.vertexColorAttribute),l.pMatrixUniform=c.getUniformLocation(l,"uPMatrix"),l.mvMatrixUniform=c.getUniformLocation(l,"uMVMatrix")}function i(){u=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,u);var e=[0,1,0,-1,-1,0,1,-1,0];c.bufferData(c.ARRAY_BUFFER,new Float32Array(e),c.STATIC_DRAW),u.itemSize=3,u.numItems=3,d=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,d);var t=[1,0,0,1,0,1,0,1,0,0,1,1];c.bufferData(c.ARRAY_BUFFER,new Float32Array(t),c.STATIC_DRAW),d.itemSize=4,d.numItems=3,g=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,g),e=[1,1,0,-1,1,0,1,-1,0,-1,-1,0],c.bufferData(c.ARRAY_BUFFER,new Float32Array(e),c.STATIC_DRAW),g.itemSize=3,g.numItems=4,f=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,f),t=[];for(var r=0;r<4;r++)t=t.concat([.5,.5,1,1]);c.bufferData(c.ARRAY_BUFFER,new Float32Array(t),c.STATIC_DRAW),f.itemSize=4,f.numItems=4}function o(e,t){c.uniformMatrix4fv(l.pMatrixUniform,!1,e),c.uniformMatrix4fv(l.mvMatrixUniform,!1,t)}function s(){c.viewport(0,0,c.viewportWidth,c.viewportHeight),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);var e,t;e=[2.4142136573791504,0,0,0,0,2.4142136573791504,0,0,0,0,-1.0020020008087158,-1,0,0,-.20020020008087158,0],t=[1,0,0,0,0,1,0,0,0,0,1,0,-1.5,0,-7,1],c.bindBuffer(c.ARRAY_BUFFER,u),c.vertexAttribPointer(l.vertexPositionAttribute,u.itemSize,c.FLOAT,!1,0,0),c.bindBuffer(c.ARRAY_BUFFER,d),c.vertexAttribPointer(l.vertexColorAttribute,d.itemSize,c.FLOAT,!1,0,0),o(e,t),c.drawArrays(c.TRIANGLES,0,u.numItems),t=[1,0,0,0,0,1,0,0,0,0,1,0,1.5,0,-7,1],c.bindBuffer(c.ARRAY_BUFFER,g),c.vertexAttribPointer(l.vertexPositionAttribute,g.itemSize,c.FLOAT,!1,0,0),c.bindBuffer(c.ARRAY_BUFFER,f),c.vertexAttribPointer(l.vertexColorAttribute,f.itemSize,c.FLOAT,!1,0,0),o(e,t),c.drawArrays(c.TRIANGLE_STRIP,0,g.numItems)}var c,l,u,d,g,f,p=document.createElement("canvas");p.width=250,p.height=250;var h=function(){try{var e=Date.now();c=p.getContext("webgl",{preserveDrawingBuffer:!0})||p.getContext("experimental-webgl",{preserveDrawingBuffer:!0})||!1;var r=Date.now()}catch(t){a.warning("getBase64WebGL",{message:"Could not initialise WebGL",errorMessage:t}),n.newRelic.sendEventError(t,{errorDetect:"getBase64WebGL",errorMessage:t.message,processingTime:r-e}),c=!1}return!!c&&(c.viewportWidth=p.width,c.viewportHeight=p.height,t(),i(),c.clearColor(0,0,0,1),c.enable(c.DEPTH_TEST),s(),c.canvas.toDataURL())}();h?n.getSha1(h,function(t){e=t,r=!0}):(e=!1,r=!0)};this.init=function(){o()},this.get=function(){return e},this.isAvailable=function(){return r}}else this.get=function(){}},optionalImageCanvas:function(){function e(e,t,r){var a=[],n=-1,i=new RegExp("[\\w\\s]{"+t+"}");e&&i.test(e)&&(n=parseInt(Math.random()*r,10));for(var o=0;o<r;o++){var s;s=o!=n?w.generate(t):e,a.push(s)}return a}function t(e,t,a,n){t.canvas.width=a,t.canvas.height=a,t.fillStyle="#000",t.fillRect(0,0,t.canvas.width,t.canvas.height);for(var i=[],c="",l=e.split(""),u=0;u<l.length;u++)c+=l[u],c.length>n&&(i.push(c),c="");for(var u=0;u<i.length;u++)s(t.font,"bold 40px Arial"),s(t.fillStyle,"#00a"),r(t,i[u],-15,36*(u+1)),s(t.font,"normal 40px Arial"),s(t.lineWidth,2),s(t.strokeStyle,"rgba(0, 210, 255, 0.8)"),o(t,i[u],3,36*(u+1)),s(t.fillStyle,"rgba(255, 128, 0, 0.5)"),r(t,i[u],-2,36*(u+1)),s(t.fillStyle,"rgba(255, 255, 255, 0.9)"),r(t,i[u],0,36*(u+1)),s(t.font,"bold 40px Arial"),s(t.lineWidth,2),s(t.strokeStyle,"rgba(255, 0, 0, 0.2)"),o(t,i[u],-3,36*(u+1));for(var d=e.length,g=0,u=0;g<d-1;u++){var f=e.charCodeAt(g++),p=e.charCodeAt(g++),h=e.charCodeAt(g++);t.fillStyle="rgba("+f+","+p+","+h+",1.0)",t.fillRect(u,0,1,1)}return t.canvas.toDataURL()}function r(e,t,r,a){try{e.fillText(t,r,a)}catch(e){}}function o(e,t,r,a){try{e.strokeText(t,r,a)}catch(e){}}function s(e,t){try{t}catch(e){}}function c(e,t,r,n){var o,s,c,u,d,g;e.clearColor(0,0,0,1),e.clearDepth(1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL);var f=e.createShader(e.VERTEX_SHADER);e.shaderSource(f,"attribute vec3 aVertexPosition; attribute vec2 aTextureCoord; uniform mat4 uMVMatrix; uniform mat4 uPMatrix; varying highp vec2 vTextureCoord; void main(void) { gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0); vTextureCoord = aTextureCoord; }"),e.compileShader(f);var p=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(p,"varying highp vec2 vTextureCoord; uniform sampler2D uSampler; void main(void) { gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t)); }"),e.compileShader(p),o=e.createProgram(),e.attachShader(o,f),e.attachShader(o,p),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){var h="Unable to initialize the shader program: "+e.getProgramInfoLog(shader);throw a.warning("optionalImageCanvas",h),h}e.useProgram(o),d=e.getAttribLocation(o,"aVertexPosition"),e.enableVertexAttribArray(d),g=e.getAttribLocation(o,"aTextureCoord"),e.enableVertexAttribArray(g),s=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,s);var m=[-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1];e.bufferData(e.ARRAY_BUFFER,new Float32Array(m),e.STATIC_DRAW),c=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,c);var v=[0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0];e.bufferData(e.ARRAY_BUFFER,new Float32Array(v),e.STATIC_DRAW),u=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,u);var y=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(y),e.STATIC_DRAW);var w={shaderProgram:o,cubeVerticesBuffer:s,cubeVerticesTextureCoordBuffer:c,cubeVerticesIndexBuffer:u,vertexPositionAttribute:d,textureCoordAttribute:g};for(i=0;i<t.length;i++){var b=new Image;b.id=i;var C=t[i];b.setAttribute("data-phrase",C),b.onload=function(t){l(e,w,t.target,n)},b.src=r[i]}}function l(e,t,r,a){e.useProgram(t.shaderProgram);var n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);var i=[3.7,0,0,0,0,3.7,0,0,0,0,-1.002,-1,0,0,-.2,0];e.bindBuffer(e.ARRAY_BUFFER,t.cubeVerticesBuffer),e.vertexAttribPointer(t.vertexPositionAttribute,3,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,t.cubeVerticesTextureCoordBuffer),e.vertexAttribPointer(t.textureCoordAttribute,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,n),e.uniform1i(e.getUniformLocation(t.shaderProgram,"uSampler"),0),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.cubeVerticesIndexBuffer);var o=[.001,.06,.998,0,-.06,-.99,.06,0,.998,-.06,.001,0,0,0,-4,1],s=e.getUniformLocation(t.shaderProgram,"uPMatrix");e.uniformMatrix4fv(s,!1,new Float32Array(i));var c=e.getUniformLocation(t.shaderProgram,"uMVMatrix");e.uniformMatrix4fv(c,!1,new Float32Array(o)),e.drawElements(e.TRIANGLES,36,e.UNSIGNED_SHORT,0);var l=new Uint8Array(e.drawingBufferWidth*e.drawingBufferHeight*4);e.readPixels(0,0,e.drawingBufferWidth,e.drawingBufferHeight,e.RGBA,e.UNSIGNED_BYTE,l);for(var d=r.getAttribute("data-phrase"),g=d.length,f=0,p=0;f<g-1;p+=4)l[p+0]=d.charCodeAt(f++),l[p+1]=d.charCodeAt(f++),l[p+2]=d.charCodeAt(f++);var h=document.createElement("canvas");h.width=a,h.height=a;for(var m=h.getContext("2d"),y=m.createImageData(a,a),p=0;p<y.data.length;p+=4){var w=p;y.data[w]=l[w++],y.data[w]=l[w++],y.data[w]=l[w++],y.data[w]=l[w]}m.putImageData(y,0,0);var b=h.toDataURL();r.getAttribute("data-phrase");v.push(b),u()}function u(){v.length==p&&(m=m.concat(v))}function d(r,n,i,o,s){for(var c=e(r,n,f),l=0;l<c.length;l++){a.debug("optionalImageCanvas",c[l].replace(/^(.{15}).*(.{15})$/,"$1...$2")),
c[l]=c[l].substr(0,n-1)+"c";var u=t(c[l],i,o,s);m.push(u)}}function g(r,i){var o,s=document.createElement("canvas"),l=s.getContext("2d");d(r[0],384,l,128,26);try{var u=document.createElement("canvas");u.width=128,u.height=128,o="WebGLRenderingContext"in window&&(u.getContext("webgl")||u.getContext("experimental-webgl")||!1)}catch(e){a.warning("optionalImageCanvas",{message:"Could not initialise WebGL",errorMessage:e}),o=!1}if(o){for(var g=[],f=e(r[1],384,p),h=0;h<f.length;h++){a.debug("optionalImageCanvas",f[h].replace(/^(.{15}).*(.{15})$/,"$1...$2")),f[h]=f[h].substr(0,383)+"w";var m=t(f[h],l,512,26);g.push(m)}try{var v=Date.now();c(o,f,g,128);var y=Date.now()}catch(e){a.warning("optionalImageCanvas",{message:"WebGL crash",errorMessage:e}),n.newRelic.sendEventError(e,{errorDetect:"optionalImageCanvas",errorMessage:e.message,processingTime:y-v}),d(r[1],384,l,128,26)}}else a.warning("optionalImageCanvas","Could not use WebGL"),d(r[1],384,l,128,26)}this.type="array";var f=3,p=3,h=f+p,m=[],v=[],y=document.createElement("canvas");if("getContext"in y&&y.getContext("2d")){var w=new function(){var e="m p b n t d f v s z r l nh ch j lh i u c g qu gu r".split(" "),t="aoeiu".split(""),r="";this.generate=function(e){var t="";do{t+=a()}while(t.length<e);return t};var a=function(){var a=!1;do{var n=e[parseInt(Math.random()*e.length)],i=t[parseInt(Math.pow(t.length,2*Math.random()-1))]}while(n==r||""==r&&n.indexOf("h")>0||"u"==i&&n.indexOf("u")>0);r=n,3*Math.random()>2&&(a=!0,r="");var o=n+i+(a?" ":"");return a=!1,r="",o}};this.init=function(e){g(e,h)},this.get=function(){return m},this.isAvailable=function(){return m.length==h}}else this.init=function(e){},this.get=function(){return a.warning("optionalImageCanvas","canvas getContext no support"),""},this.isAvailable=function(){return!0}},browserClock:function(){function e(t,r){try{return t<1e-8?r:t<r?e(r-Math.floor(r/t)*t,t):t==r?t:e(r,t)}catch(e){return a.error("browserClock",{message:"clockcalc catch",errorMessage:e}),n.newRelic.sendEventError(e,{errorDetect:"browserClock",errorMessage:e.message}),0}}function t(){try{for(var t=parseFloat(c.now()/1e3),r=parseFloat(c.now()/1e3-t),n=0;n<20;n++)var i=c.now()/1e3-t,o=e(r,i);return Math.round(1/o)}catch(e){return a.error("browserClock",{message:"clock catch",errorMessage:e}),1/0}}function r(e){return 1e3*Math.ceil(e/1e3)}function i(){try{for(var e=Date.now(),i=0,c={};i<20;){var l=t();if(l!=1/0){var u=r(l);u in c?c[u]++:c[u]=1,i++}}var d=[];for(var g in c)d.push({value:g,qty:c[g]});d=d.sort(function(e,t){return e.qty<t.qty?1:-1});var f=Date.now();s=d[0].value,o=!0}catch(t){a.error("browserClock",{message:"_init catch",errorMessage:t}),n.newRelic.sendEventError(t,{errorDetect:"browserClock",errorMessage:t.message,processingTime:f-e}),s=!1,o=!0}}this.type="string";var o=!1,s=!1,c=window.performance;"performance"in window&&"now"in window.performance?(this.init=function(){i()},this.get=function(){return s},this.isAvailable=function(){return o}):this.get=function(){}},geolocation:function(){this.type="boolean",this.get=function(){return Boolean("geolocation"in navigator)}},socialNetworks:function(){var e=null;this.async=!0,this.type="string";var t=null,r=null;this.get=function(){return e},this.isAvailable=function(){try{return t=Date.now(),e=window.getExternalDataIframeDetections.get(_$.config.get("_guid"),"getFacebookUserId"),r=Date.now(),null!==e}catch(a){n.newRelic.sendEventError(a,{errorDetect:"socialNetworks",processingTime:r-t}),e=!1}}},globalStorage:function(){this.type="boolean",this.get=function(){return Boolean(void 0!==window.globalStorage)}},localStorage:function(){this.type="boolean",this.get=function(){return Boolean("localStorage"in window)}},openDatabase:function(){this.type="boolean",this.get=function(){return Boolean("openDatabase"in window)}},activeX:function(){this.type="boolean",this.get=function(){return Boolean("ActiveXObject"in window)}},geckoActiveX:function(){this.type="boolean",this.get=function(){return Boolean("GeckoActiveXObject"in window)}},console:function(){this.type="boolean",this.get=function(){return Boolean("console"in window)}},iEuserData:function(){this.type="boolean",this.get=function(){var e=!1,t=_$.config.get("_ak");try{var r=Date.now(),a=document.getElementById("dnauol-userdata");a.load(t),e=a.getAttribute(t);var i=Date.now()}catch(t){n.newRelic.sendEventError(t,{errorDetect:"iEuserData",errorMessage:t.message,processingTime:i-r}),e=!1}return e}},ajax:function(){this.type="boolean",this.get=function(){var e,t=!1,r=null,a=Date.now();if("undefined"!=typeof XMLHttpRequest)t=!0;else try{e=new ActiveXObject("Msxml2.XMLHTTP"),t=Boolean(void 0!==e)}catch(a){r=a.message;try{e=new ActiveXObject("Microsoft.XMLHTTP"),t=Boolean(void 0!==e)}catch(e){r=e.message,t=!1}}var i=Date.now();return!1===t&&n.newRelic.sendEventError(r,{errorDetect:"ajax",processingTime:i-a}),t}},plugins:function(){this.type="array",this.get=function(){var e=[];try{if(navigator.plugins){var t=Date.now();for(var r in navigator.plugins)if("function"!=typeof navigator.plugins[r]){var a=[],i=navigator.plugins[r].name;i&&"refresh"!=i&&"namedItem"!=i&&"item"!=i&&a.push(i),navigator.plugins[r].description&&a.push(navigator.plugins[r].description),navigator.plugins[r].filename&&a.push(navigator.plugins[r].filename),navigator.plugins[r].suffixes&&a.push(navigator.plugins[r].suffixes),a.length>=1&&e.push(n.trim(a.join(" ")))}var o=Date.now()}}catch(r){n.newRelic.sendEventError(r,{errorDetect:"plugins",errorMessage:r.message,processingTime:o-t}),e=!1}return e}},dc:function(){this.type="array",this.get=function(){var e=[];try{var t=Date.now();"undefined"!=typeof document&&(void 0!==document.all&&e.push("all"),void 0!==document.anchors&&e.push("anchors"),void 0!==document.forms&&e.push("forms"),void 0!==document.getElementById&&e.push("getElementById"),void 0!==document.getElementsByTagName&&e.push("getElementsByTagName"),void 0!==document.documentElement&&e.push("documentElement"),void 0!==document.images&&e.push("images"),void 0!==document.layers&&e.push("layers"),void 0!==document.links&&e.push("links"));var r=Date.now()}catch(a){n.newRelic.sendEventError(a,{errorDetect:"dc",errorMessage:a.message,processingTime:r-t}),e=!1}return e}},fontsFlash:function(){this.type="json",this.available=!1,this.ready=!1,this.result=!1,this.async=!0,this.handler=null;var e=this;n.flashSupport()?(this.init=function(){t.swfLib||(t.swfLib=s.get("swf"),_$.utils.async("swfObject__nolog",function(e){if(g.swfobject&&0==g.swfobject.getFlashPlayerVersion().major)return e.detectionReady=!0,e.clear(),null;g.swfobject&&(t.swfLib.create(),e.detectionReady=!0,e.clear()),g.swfobject||e.maxCalls!=e.actualCall+1||(e.detectionReady=!0,e.clear())},_$.config.get("_ai"),_$.config.get("_maa")))},this.get=function(){return this.result},this.isAvailable=function(){if(!this.available)try{var r=Date.now();if(n.flashSupport())if(g.swfobject&&g.swfobject.hasFlashPlayerVersion("9")){if(this.handler=t.swfLib.createHandler(),null!==this.handler&&"getDeviceFonts"in this.handler){this.available=!0;var i=[],o=this.handler.getDeviceFonts();if("string"==typeof o){o=n.trim(o),";"==o.charAt(o.length-1)&&(o=o.slice(0,-1)),i=o.split(";"),i.map(function(e){var t=e.replace(/\s/g,"");return n.toHtmlEntities(t).toLowerCase()});var s=i.length;s>0?n.getSha1(i.sort(),function(t){var r={};r.hash=t,r.count=s,r.detection="fontsFlash",e.result=r,e.ready=!0}):this.ready=!0}this.ready=!0}}else this.ready=!0;else this.ready=!0;var c=Date.now()}catch(e){a.error("fontsFlash",{message:"isAvailable catch",errorMessage:e}),n.newRelic.sendEventError(e,{errorDetect:"fontsFlash",errorMessage:e.message,processingTime:c-r}),this.ready=!0}return this.ready}):(this.init=function(){},this.get=function(){return!1},this.isAvailable=function(){return!0})},fontsJs:function(){this.ready=!1,this.async=!0,this.type="json";var e=null,t=null,r=null,a=function(){window.onload=function(){var t=new window.FontDetect;e=t.returnInstalledFonts(),sendData(e)}},i=function(t){t.list.length>0?n.getSha1(t.list.join(""),function(r){var a={};a.hash=r,a.count=t.count,a.detection=t.detection,e=a}):e=!1};this.init=function(){(t=Date.now(),n.createIframe(a,i,null,{FontDetect:d,getOS:n.getOS,toHtmlEntities:n.toHtmlEntities}))||i((new d).returnInstalledFonts());r=Date.now()},this.get=function(){return e},this.isAvailable=function(){return null!=e},!1===e&&n.newRelic.sendEventError(e,{errorDetect:"fontsJs",processingTime:r-t})},iEComponents:function(){if(this.type="array",t.browser.isIE&&parseInt(t.browser.version,10)<=8){var e;this.type="json",this.ready=!1,this.async=!0;var r=function(t){var r=!1;return void 0!==e&&void 0!==e.id&&"isComponentInstalled"in e&&(r=e.isComponentInstalled(t,"ComponentID")),r},a=function(t){var r=!1;return void 0!==e&&void 0!==e.id&&void 0!==e.getComponentVersion&&(r=e.getComponentVersion(t,"ComponentID")),r};this.init=function(){n.createHtmlElement("oClientCaps",{id:"oClientCaps-wrapper"}).innerHTML='<IE:clientCaps id="oClientCaps" style="behavior:url(#default#clientCaps);" />',e=document.getElementById("oClientCaps")},this.isAvailable=function(){return Boolean(e)},this.get=function(){var e=[];try{var t=Date.now(),i={"47F67D00-9E55-11D1-BAEF-00C04FC2D130":"AOL ART Image Format Support","7790769C-0471-11D2-AF11-00C04FA35D02":"Address Book","76C19B38-F0C8-11CF-87CC-0020AFEECF20":"Arabic Text Display Support","76C19B34-F0C8-11CF-87CC-0020AFEECF20":"Chinese (Simplified) Text Display Support","76C19B33-F0C8-11CF-87CC-0020AFEECF20":"Chinese (Traditional) Text Display Support","4F216970-C90C-11D1-B5C7-0000F8051515":"DirectAnimation Java Classes","283807B5-2C60-11D0-A31D-00AA00B92C03":"DirectAnimation","44BBA848-CC51-11CF-AAFA-00AA00B6015C":"DirectShow","4F216970-C90C-11D1-B5C7-0000F8051515":"Dynamic HTML Data Binding for Java","9381D8F2-0288-11D0-9501-00AA00B911A5":"Dynamic HTML Data Binding","76C19B36-F0C8-11CF-87CC-0020AFEECF20":"Hebrew Text Display Support","5A8D6EE0-3E18-11D0-821E-444553540000":"Internet Connection Wizard","89820200-ECBD-11CF-8B85-00AA005B4383":"Internet Explorer Web Browser","630B1DA0-B465-11D1-9948-00C04F98BBC9":"Internet Explorer Browsing Enhancements","08B0E5C0-4FCB-11CF-AAA5-00401C608555":"Internet Explorer Classes for Java","DE5AED00-A4BF-11D1-9948-00C04F98BBC9":"Internet Explorer Help Engine","45EA75A0-A269-11D1-B5BF-0000F8051515":"Internet Explorer Help","89820200-ECBD-11CF-8B85-00AA005B4383":"Internet Explorer Web Browser","76C19B30-F0C8-11CF-87CC-0020AFEECF20":"Japanese Text Display Support","76C19B31-F0C8-11CF-87CC-0020AFEECF20":"Korean Text Display Support","76C19B50-F0C8-11CF-87CC-0020AFEECF20":"Language Auto-Selection","D27CDB6E-AE6D-11CF-96B8-444553540000":"Macromedia Flash","2A202491-F00D-11CF-87CC-0020AFEECF20":"Macromedia Shockwave Director","08B0E5C0-4FCB-11CF-AAA5-00401C608500":"Microsoft virtual machine","44BBA842-CC51-11CF-AAFA-00AA00B6015B":"NetMeeting NT","3AF36230-A269-11D1-B5BF-0000F8051515":"Offline Browsing Pack","44BBA840-CC51-11CF-AAFA-00AA00B6015C":"Outlook Express","76C19B32-F0C8-11CF-87CC-0020AFEECF20":"Pan-European Text Display Support","CC2A9BA0-3BDD-11D0-821E-444553540000":"Task Scheduler","76C19B35-F0C8-11CF-87CC-0020AFEECF20":"Thai Text Display Support","3BF42070-B3B1-11D1-B5C5-0000F8051515":"Uniscribe","90A7533D-88FE-11D0-9DBE-0000C0411FC3":"VRML 2.0 Viewer","10072CEC-8CC1-11D1-986E-00A0C955B42F":"Vector Graphics Rendering (VML)","76C19B37-F0C8-11CF-87CC-0020AFEECF20":"Vietnamese Text Display Support","4F645220-306D-11D2-995D-00C04F98BBC9":"Visual Basic Scripting Support","1CDEE860-E95B-11CF-B1B0-00AA00BBAD66":"Wallet","73FA19D0-2D75-11D2-995D-00C04F98BBC9":"Web Folders","89820200-ECBD-11CF-8B85-00AA005B4340":"Windows Desktop Update NT","23064720-C4F8-11D1-994D-00C04F98BBC9":"Windows Media Player RealNetwork Support","22D6F312-B0F6-11D0-94AB-0080C74C7E95":"Windows Media Player"};for(var o in i){var s="{"+o+"}";r(s)&&(e[i[o]]=String(a(s)))}var c=Date.now()}catch(r){n.newRelic.sendEventError(r,{errorDetect:"iEComponents",processingTime:c-t}),e=!1}return e}}else this.get=function(){}},ct:function(){this.type="json",this.get=function(){var e=[],t=null,r=null;try{void 0!==window.crypto&&(r=Date.now(),void 0!==window.crypto.version&&(e.version=window.crypto.version),void 0!==window.crypto.enableSmartCardEvents&&(e.enableSmartCardEvents=window.crypto.enableSmartCardEvents),t=Date.now())}catch(a){n.newRelic.sendEventError(a,{errorDetect:"ct",processingTime:t-r}),e=!1}return e}},mimeTypes:function(){this.type="json",this.get=function(){var e=[],r=null,a=null;try{if("object"==typeof navigator.mimeTypes&&!(t.browser.isIE&&t.browser.nVersion<=10)){r=Date.now();for(var i in navigator.mimeTypes){var o=navigator.mimeTypes[i];if("string"==typeof o.type){var s=[];s.push(String(o.description)),s.push(String(o.enabledPlugin)),s.push(String(o.suffixes)),e[o.type]=n.trim(s.join(" "))}a=Date.now()}}}catch(t){n.newRelic.sendEventError(t,{errorDetect:"mimeTypes",errorMessage:t.message,processingTime:a-r}),e=!1}return e}},svg:function(){this.type="json",this.get=function(){var e=[];try{if(void 0!==document.implementation&&void 0!==document.implementation.hasFeature){var t=Date.now(),r=["SVG","SVGDOM","SVG-static","SVGDOM-static","SVG-animation","SVGDOM-animation","SVG-dynamic","SVGDOM-dynamic","CoreAttribute","Structure","ContainerAttribute","ConditionalProcessing","Image","Style","ViewportAttribute","Shape","Text","PaintAttribute","OpacityAttribute","GraphicsAttribute","Marker","ColorProfile","Gradient","Pattern","Clip","Mask","Filter","XlinkAttribute","Font","Extensibility","BasicStructure","BasicText","BasicPaintAttribute","BasicGraphicsAttribute","BasicClip","BasicFilter","DocumentEventsAttribute","GraphicalEventsAttribute","AnimationEventsAttribute","Cursor","Hyperlinking","ExternalResourcesRequired","View","Script","Animation","BasicFont"];for(var a in r)e[r[a]]=document.implementation.hasFeature(String("http://www.w3.org/TR/SVG11/feature#"+r[a]),"1.1");var i=Date.now()}}catch(e){n.newRelic.sendEventError(e,{errorDetect:"svg",errorMessage:e.message,processingTime:i-t})}return e}},language:function(){this.type="json",this.get=function(){var e=[];try{var t=Date.now();"language"in navigator&&(e.language=String(navigator.language)),"browserLanguage"in navigator&&(e.browserLanguage=String(navigator.browserLanguage)),"systemLanguage"in navigator&&(e.systemLanguage=String(navigator.systemLanguage)),"userLanguage"in navigator&&(e.userLanguage=String(navigator.userLanguage)),"languages"in navigator&&(e.languages=navigator.languages.toString(),""==e.languages&&a.error("language",{message:"navigator.languages empty",errorMessage:err}));var r=Date.now()}catch(a){n.newRelic.sendEventError(a,{errorDetect:"language",errorMessage:a.message,processingTime:r-t}),e=!1}return e}},screen:function(){this.type="json",this.get=function(){var e={};try{var t=Date.now();if("object"==typeof screen)for(var r in screen)"function"!=typeof screen[r]&&"orientation"!=r&&"mozOrientation"!=r&&(e[r]=screen[r]);if(("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"orientation"in window.screen&&/landscape/.test(window.screen.orientation.type)){var a={};for(var i in e)e.hasOwnProperty(i)&&(a[i]=e[i]);e.availHeight=a.availWidth,e.availWidth=a.availHeight,e.availTop=a.availLeft,e.availLeft=a.availTop,e.height=a.width,e.width=a.height}var o=Date.now()}catch(r){n.newRelic.sendEventError(r,{errorDetect:"screen",errorMessage:r.message,processingTime:o-t}),e=!1}return e}},navigator:function(){this.type="json",this.get=function(){var e=[];try{var t=Date.now();"navigator"in window&&("appName"in navigator&&(e.appName=String(navigator.appName)),"appMinorVersion"in navigator&&(e.appMinorVersion=String(navigator.appMinorVersion)),"vendor"in navigator&&(e.vendor=String(navigator.vendor)),"oscpu"in navigator&&(e.oscpu=String(navigator.oscpu)),"platform"in navigator&&(e.platform=String(navigator.platform)),"securityPolicy"in navigator&&(e.securityPolicy=String(navigator.securityPolicy)),"hardwareConcurrency"in navigator&&(e.hardwareConcurrency=String(navigator.hardwareConcurrency)),"deviceMemory"in navigator&&(e.deviceMemory=String(navigator.deviceMemory)),"appCodeName"in navigator&&(e.appCodeName=String(navigator.appCodeName)),"product"in navigator&&(e.product=String(navigator.product)),"productSub"in navigator&&(e.productSub=String(navigator.productSub)),"maxTouchPoints"in navigator&&(e.maxTouchPoints=String(navigator.maxTouchPoints)),"msMaxTouchPoints"in navigator&&(e.msMaxTouchPoints=String(navigator.msMaxTouchPoints)),"cpuClass"in navigator&&(e.cpuClass=String(navigator.cpuClass)),"javaEnabled"in navigator&&(e.javaEnabled=Boolean(navigator.javaEnabled())));var r=Date.now()}catch(a){n.newRelic.sendEventError(a,{errorDetect:"navigator",errorMessage:a.message,processingTime:r-t}),e=!1}return e}},keyboardMap:function(){this.type="json";var e={},t=!1;"keyboard"in navigator&&"getLayoutMap"in navigator.keyboard?(this.init=function(){try{var r=Date.now();navigator.keyboard.getLayoutMap().then(function(r){e.size="size"in r?String(r.size):"",e.IntlBackslash=r.get("IntlBackslash")?String(r.get("IntlBackslash").charCodeAt(0)):"",e.Backslash=r.get("Backslash")?String(r.get("Backslash").charCodeAt(0)):"",e.IntlYen=r.get("IntlYen")?String(r.get("IntlYen").charCodeAt(0)):"",e.IntlRo=r.get("IntlRo")?String(r.get("IntlRo").charCodeAt(0)):"",e.AltRight=r.get("AltRight")?String(r.get("AltRight").charCodeAt(0)):"",t=!0},function(e){t=!0;try{a.warning("keyboardMap",{message:promise||"",errorMessage:e})}catch(t){a.warning("keyboardMap",{message:"",errorMessage:e})}});var i=Date.now()}catch(o){e=!1,t=!0,a.error("keyboardMap",{errorMessage:o}),n.newRelic.sendEventError(o,{errorDetect:"keyboardMap",errorMessage:o.message,processingTime:i-r})}},this.get=function(){return e},this.isAvailable=function(){return t}):this.get=function(){}},timezone:function(){this.type="json",this.get=function(){var e={};try{var t=Date.now(),r=(new Date).getFullYear(),a=new Date(r,7,1,0,0,0).getTimezoneOffset();e.offset=a;var i=new Date(r,1,1,0,0,0).getTimezoneOffset();a!=i&&(e.dstOffset=i);var o=Date.now()}catch(r){n.newRelic.sendEventError(r,{errorDetect:"timezone",errorMessage:r.message,processingTime:o-t}),e=!1}return e}},resolution:function(){this.type="json",this.get=function(){function e(e){var t=[],r=Math.ceil(96*e);return e+=.001,t[0]=window.matchMedia("(min-resolution: "+e+"dppx')").matches?1:0,t[1]=window.matchMedia("(min-resolution: "+r+"dpi')").matches?1:0,t[2]=window.matchMedia("(-webkit-min-device-pixel-ratio: "+e+")").matches?0:1,t[3]=window.matchMedia("(min--moz-device-pixel-ratio: "+e+")").matches?0:1,t[4]=window.matchMedia("(-min-device-pixel-ratio: "+e+")").matches?0:1,t.join("")}var t={};try{var r=Date.now(),a=null;if(void 0!==window.matchMedia)for(var i=[.5,.75,1,1.325,1.33,1.5,1.666,2,2.46,2.5,2.608,3,3.333,5,6.666],o=e(.1),s=0;s<i.length;s++)a||o==e(i[s])||(a=i[s]);a||("devicePixelRatio"in window?(a=window.devicePixelRatio,a=a%1==0?a.toFixed(0):a.toFixed(3)):a=1),t.devicePixelRatio=a;var c=parseInt(screen.width*t.devicePixelRatio),l=parseInt(screen.height*t.devicePixelRatio);t.physicalResolution=Math.min(c,l)+"x"+Math.max(c,l);var u=Date.now()}catch(e){n.newRelic.sendEventError(e,{errorDetect:"resolution",errorMessage:e.message,processingTime:u-r}),t=!1}return t}},webglParams:function(){this.type="json";var e,t,r,a=[];try{t=document.createElement("canvas"),r=t.getContext("webgl",{stencil:!0})||t.getContext("experimental-webgl",{stencil:!0})||null,e="WebGLRenderingContext"in window&&r}catch(t){e=!1}this.get=e?function(){try{var e=Date.now(),t=r.getExtension("WEBGL_debug_renderer_info"),i=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),o={MAX_VERTEX_ATTRIBS:r.getParameter(r.MAX_VERTEX_ATTRIBS),MAX_VARYING_VECTORS:r.getParameter(r.MAX_VARYING_VECTORS),MAX_VERTEX_UNIFORM_VECTORS:r.getParameter(r.MAX_VERTEX_UNIFORM_VECTORS),MAX_FRAGMENT_UNIFORM_VECTORS:r.getParameter(r.MAX_FRAGMENT_UNIFORM_VECTORS),MAX_TEXTURE_IMAGE_UNITS:r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),MAX_VERTEX_TEXTURE_IMAGE_UNITS:r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS),MAX_COMBINED_TEXTURE_IMAGE_UNITS:r.getParameter(r.MAX_COMBINED_TEXTURE_IMAGE_UNITS),MAX_TEXTURE_SIZE:r.getParameter(r.MAX_TEXTURE_SIZE),MAX_CUBE_MAP_TEXTURE_SIZE:r.getParameter(r.MAX_CUBE_MAP_TEXTURE_SIZE),MAX_TEXTURE_MAX_ANISOTROPY_EXT:i&&r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT),ALIASED_POINT_SIZE_RANGE:r.getParameter(r.ALIASED_POINT_SIZE_RANGE)[0]+"_"+r.getParameter(r.ALIASED_POINT_SIZE_RANGE)[1],ALIASED_LINE_WIDTH_RANGE:r.getParameter(r.ALIASED_LINE_WIDTH_RANGE)[0]+"_"+r.getParameter(r.ALIASED_LINE_WIDTH_RANGE)[1],MAX_VIEWPORT_DIMS:r.getParameter(r.MAX_VIEWPORT_DIMS)[0]+"_"+r.getParameter(r.MAX_VIEWPORT_DIMS)[1],MAX_RENDERBUFFER_SIZE:r.getParameter(r.MAX_RENDERBUFFER_SIZE),EXTENSIONS:r.getSupportedExtensions(),RENDERER:r.getParameter(r.RENDERER),VENDOR:r.getParameter(r.VENDOR),VERSION:r.getParameter(r.VERSION),SHADING_LANGUAGE_VERSION:r.getParameter(r.SHADING_LANGUAGE_VERSION),UNMASKED_RENDERER:t&&r.getParameter(t.UNMASKED_RENDERER_WEBGL),UNMASKED_VENDOR:t&&r.getParameter(t.UNMASKED_VENDOR_WEBGL)};for(var s in o)o[s]&&(a[s]=o[s]);var c=Date.now();return a}catch(t){n.newRelic.sendEventError(t,{errorDetect:"webglParams",errorMessage:t.message,processingTime:c-e})}}:function(){}},flashAttributes:function(){this.ready=!1,this.async=!0,this.type="json",n.flashSupport()?(this.init=function(){!t.swfLib&&n.flashSupport()&&(t.swfLib=s.get("swf"),_$.utils.async("swfObject__nolog",function(e){if(g.swfobject&&0==g.swfobject.getFlashPlayerVersion().major)return e.detectionReady=!0,e.clear(),null;g.swfobject&&(t.swfLib.create(),e.detectionReady=!0,e.clear()),g.swfobject||e.maxCalls!=e.actualCall+1||(e.detectionReady=!0,e.clear())},_$.config.get("_ai"),_$.config.get("_maa")))},this.get=function(){var e=new s.get("jsonParser"),r=t.swfLib.handler.getFlashAttributes();return e.parse(r)},this.isAvailable=function(){var e=!1;try{var r=Date.now();if(g.swfobject&&g.swfobject.hasFlashPlayerVersion("9")){!1!==t.swfLib.createHandler()&&"function"==typeof t.swfLib.handler.getFlashAttributes&&(e=!0)}var i=Date.now()}catch(e){a.error("flashAttributes",{message:"isAvailable catch",errorMessage:e}),n.newRelic.sendEventError(e,{errorDetect:"flashAttributes",errorMessage:e.message,processingTime:i-r})}return e}):(this.init=function(){},this.get=function(){return!1},this.isAvailable=function(){return!0})},automationTools:function(){this.type="array";var e=[{name:"Selenium IDE",log:!0,detect:function(){return"_Selenium_IDE_Recorder"in window}},{name:"Selenium FirefoxDriver",log:!0,detect:function(){return"__webdriver_evaluate"in document||"__fxdriver_unwrapped"in window||"fxdriver_id"in window}},{name:"Selenium ChromeDriver",log:!0,detect:function(){var e=!1;for(var t in document)/^\$cdc_/.test(t)&&(e=!0);return e}},{name:"Selendroid WebView",log:!0,detect:function(){return"$wdc_"in document}},{name:"Katalon Automation Recorder Chrome",log:!0,detect:function(){for(var e=!1,t=document.getElementsByTagName("script"),r=0;r<t.length;r++)if(/ljdobmomdgdljniojadhoplhkpialdid/.test(t[r].src)){e=!0;break}return e}},{name:"Katalon Automation Recorder Firefox",log:!0,detect:function(){for(var e=!1,t=document.getElementsByTagName("script"),r=0;r<t.length;r++)if(/1d7b99c5-0d1e-4010-b996-785b5f88ef2b/.test(t[r].src)){e=!0;break}return e}},{name:"Selenium IDE Chrome",log:!0,detect:function(){for(var e=!1,t=document.getElementsByTagName("script"),r=0;r<t.length;r++)if(/mooikfkahbdckldjjndioackbalphokd/.test(t[r].src)){e=!0;break}return e}},{name:"WebDriver",log:!0,detect:function(){return"webdriver"in navigator&&navigator.webdriver}}];this.get=function(){var t=[];try{for(var r=Date.now(),i=0;i<e.length;i++)e[i].detect()&&(t.push(e[i].name),e[i].log&&a.error("automationTools",{name:e[i].name}));var o=Date.now()}catch(e){n.newRelic.sendEventError(e,{errorDetect:"automationTools",errorMessage:e.message,processingTime:o-r}),t=!1}return t}},unstableNavigator:function(){this.type="json",this.get=function(){var e=!1;try{var t=Date.now();if("navigator"in window){e={};var r=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack||!1;r&&(e.donottrack=String(r)),"cookieEnabled"in navigator&&(e.cookieenabled=String(navigator.cookieEnabled)),"onLine"in navigator&&(e.online=String(navigator.onLine)),"buildID"in navigator&&(e.buildid=String(navigator.buildID)),"activeVRDisplays"in navigator&&navigator.activeVRDisplays.length>0&&(e.activevrdisplays=String(navigator.activeVRDisplays.length))}var a=Date.now()}catch(r){n.newRelic.sendEventError(r,{errorDetect:"unstableNavigator",errorMessage:r.message,processingTime:a-t}),e=!1}return e}},connection:function(){this.type="json",this.get=function(){var e=!1;try{var t=Date.now();if("connection"in navigator){var r=navigator.connection;e={},"downlink"in r&&void 0!==r.downlink&&(e.downlink=String(r.downlink)),"rtt"in r&&void 0!==r.rtt&&(e.rtt=String(r.rtt)),"effectiveType"in r&&void 0!==r.effectiveType&&(e.effectiveType=String(r.effectiveType)),"saveData"in r&&void 0!==r.saveData&&(e.saveData=String(r.saveData))}var a=Date.now()}catch(r){n.newRelic.sendEventError(r,{errorMessage:r.message,errorDetect:"connection",processingTime:a-t}),e=!1}return e}},battery:function(){this.type="json";var e=!1,t=null;this.init=function(){if("getBattery"in navigator)try{var r=Date.now();navigator.getBattery().then(function(r){t={},t.charging=String(r.charging),t.chargingTime=String(r.chargingTime),t.dischargingTime=String(r.dischargingTime),t.level=String(r.level),e=!0},function(t){a.error("battery",{message:"promise catch",errorMessage:t}),e=!0});var i=Date.now()}catch(t){e=!0,a.error("battery",{errorMessage:t}),n.newRelic.sendEventError(t,{errorDetect:"battery",errorMessage:t.message,processingTime:i-r})}else e=!0},this.get=function(){return t},this.isAvailable=function(){return e}},adBlock:function(){this.type="boolean";var e,t=!1;this.init=function(){e=n.createHtmlElement("div",{style:"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;",_class:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"}),setTimeout(function(){t=!0},50)},this.get=function(){var t=!1;try{var r=Date.now();if(null===window.document.body.getAttribute("abp")&&null!==e.offsetParent&&0!=e.offsetHeight&&0!=e.offsetLeft&&0!=e.offsetTop&&0!=e.offsetWidth&&0!=e.clientHeight&&0!=e.clientWidth||(t=!0),"getComputedStyle"in window){var a=window.getComputedStyle(e,null);!a||"none"!=a.getPropertyValue("display")&&"hidden"!=a.getPropertyValue("visibility")||(t=!0)}var i=Date.now()}catch(e){n.newRelic.sendEventError("adBlock",{errorDetect:"adBlock",errorMessage:e.message,processingTime:i-r})}return t},this.isAvailable=function(){return t}}}},h=function(){function e(){var e=r.getRandomInt(1,100);for(var t in l.single)e<=l.single[t].amount||delete l.single[t],l.single[t]&&l.single[t].required&&(a.startTimer("D"+t),s[t]=_$.utils.async(t,function(e){if(e.error[e.actualCall]&&(a.error("_singleDetect",{call:e.actualCall.toString(),actualDetection:e.userData,lastComputedError:e.lastComputedError}),e.detectionReady=!0),e.actualDetection||(e.actualDetection=o.get(e.userData)),!e.initiated&&e.actualDetection.init&&(e.actualDetection.init(),e.initiated=!0),!e.actualDetection.isAvailable)return e.detectionReady=!0,e.clear(),a.debug(e.userData+"_count",e.actualCall+1),e.actualDetection.get();if(e.actualDetection.isAvailable()){e.detectionReady=!0,e.clear();return e.actualDetection.get()}null!=e.userData&&e.maxCalls==e.actualCall+1&&(e.detectionReady=!0,e.clear(),"getBase64ImageCanvas"!=e.userData?a.warning("_singleDetect",{userData:e.userData,time:a.getTime("D"+e.userData),call:e.actualCall}):a.error("_singleDetect",{userData:e.userData,time:a.getTime("D"+e.userData),call:e.actualCall}))},_$.config.get("_ai"),_$.config.get("_maa")))}function t(){for(var e in l.multi)l.multi[e][0]?(a.startTimer("D"+e),c[e]=_$.utils.async([e,0],function(t){if(t.stopOnError=!1,t.error[t.actualCall]&&a.error("_multiDetect",{call:t.actualCall.toString(),actualDetection:t.actualDetection,lastComputedError:t.lastComputedError}),t.lastCall&&l.multi[t.userData[0]][t.userData[1]+1]){l.multi[t.userData[0]][t.userData[1]].type;t.clear(),c[t.userData[0]]=_$.utils.async([t.userData[0],t.userData[1]+1],arguments.callee,_$.config.get("_ai"),_$.config.get("_maa"))}else t.lastCall&&!l.multi[t.userData[0]][t.userData[1]+1]&&(t.detectionReady=!0);if(t.actualDetection||(t.actualDetection=o.get(l.multi[t.userData[0]][t.userData[1]].type)),!t.initiated&&t.actualDetection.init&&(t.actualDetection.init(),t.initiated=!0),t.actualDetection.isAvailable)if(t.actualDetection.isAvailable()){var r=t.actualDetection.get();l.multi[t.userData[0]][t.userData[1]].type;if("fontsFlash"!=l.multi[t.userData[0]][t.userData[1]].type||!1!==r)return t.detectionReady=!0,t.clear(),a.debug(t.userData[0]+t.userData[1]+"_count",t.actualCall+1),r;t.clear(),c[t.userData[0]]=_$.utils.async([t.userData[0],t.userData[1]+1],arguments.callee,_$.config.get("_ai"),_$.config.get("_maa"))}else null!=t.userData&&t.maxCalls==t.actualCall+1&&(t.detectionReady=!0,t.clear(),a.warning("_multiDetect",{userData:t.userData[0]+t.userData[1],time:a.getTime("D"+t.userData[0]),call:t.actualCall}));else try{return t.detectionReady=!0,t.clear(),a.debug(t.userData[0]+t.userData[1]+"_count",t.actualCall+1),t.actualDetection.get()}catch(r){a.error("_multiDetect",{call:t.actualCall.toString(),actualDetection:c[e][t.userData[1]],lastComputedError:t.lastComputedError,errorMessage:r}),t.actualDetection}},_$.config.get("_ai"),_$.config.get("_maa"))):c[e]=_$.utils.async(e,function(e){e.detectionReady=!0},0,1)}function n(){return _$.utils.async("checkWhenReady__nolog",function(e){s.ready=!1,c.ready=!1;for(var t in l.single)if(l.single[t].required&&!s[t].state.detectionReady)return null;for(var t in l.multi)if(!c[t].state.detectionReady)return null;s.ready=!0,c.ready=!0,e.clear()},100)}function i(r){return e(),t(),_$.utils.async("verify__nolog",function(e){if(s.ready&&c.ready){var t=[];for(var a in s)s[a].state&&(t[a]={},t[a].value=s[a].state.lastComputedData,t[a].timeout=!1,t[a].type=s[a].state.actualDetection.type);for(var n in c)c[n].state&&c[n].state.initiated&&(t[n]={},t[n].value=c[n].state.lastComputedData,t[n].timeout=!1,t[n].type=c[n].state.actualDetection.type);return e.clear(),r(t)}},_$.config.get("_ai"))}var o=new p,s={ready:!1},c={ready:!1},l=_$.config.get("_dtl_"),u=function(e){e&&0!=Object.keys(e).length||(e={},function t(r){for(var a in r)"required"in r[a]?"type"in r[a]?e[r[a].type]=r[a].required:e[a]=r[a].required:t(r[a])}(l));var t;for(var r in l.multi){var a=0;t={};for(var n in l.multi[r])for(var i in e)l.multi[r][n].type==i&&e[i]&&(t[a]=l.multi[r][n],a++);l.multi[r]=t}for(var i in e){for(var o in t)t[o].type==i&&!0;for(var r in l.single)r==i&&(l.single[r].required=e[i],!0)}};return u.prototype={get:function(e){return n(),i(e)},getSingleDetectState:function(){return s},getMultiDetectState:function(){return c}},u}(),m=function(){var r=_$.config.get("_ak"),i={scope:function(){return!("test"==_$.config.get("_sc")||!Boolean(f))||(a.error("scope","unsupport"),!1)},cookie:function(){return"cookie"in document||(a.error("cookie","unsupport"),!1)},window:function(){return"name"in window||(a.error("window","unsupport"),!1)},session:function(){var e=!1;try{e=!!("sessionStorage"in window&&window.sessionStorage)}catch(e){/SecurityError/i.test(e)?a.warning("sessionSecurityError",{errorMessage:e}):a.error("session",{message:"unsupport",errorMessage:e})}return e},global:function(){var e=!1;try{e=!!("globalStorage"in window&&window.globalStorage)}catch(e){a.error("global",{
message:"unsupport",errorMessage:e})}return e},local:function(){var e=!1;try{e=!!("localStorage"in window&&window.localStorage)}catch(e){/SecurityError/i.test(e)?a.warning("localStorageSecurityError",{errorMessage:e}):a.error("localStorage",{message:"unsupport",errorMessage:e})}return e},user:function(){var e=!1;try{e=void 0!==n.getHtmlWrapper().style.behavior}catch(e){a.debug("user",{message:"unsupport",errorMessage:e})}return e},server:function(){t.browser.isIE;var e=!1;try{e=!t.browser.isIE}catch(e){a.debug("server",{message:"unsupport",errorMessage:e})}return e},etag:function(){var e=!1;try{e=!t.browser.isIE}catch(e){a.debug("etag",{message:"unsupport",errorMessage:e})}return e},database:function(){var e=!1;try{e=!(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB)&&"openDatabase"in window}catch(e){a.error("database",{message:"unsupport",errorMessage:e})}return e},indexeddb:function(){var e=!1;try{e=!!(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB)}catch(e){a.warning("indexeddb",{message:"unsupport",errorMessage:e})}return e},swf:function(){var e=!1;try{e=n.flashSupport()}catch(e){a.error("swf",{message:"unsupport",errorMessage:e})}return e},sl:function(){var e=!1;try{e=!(t.browser.isFirefox||t.browser.isChrome&&t.browser.major>=42||t.browser.isOpera&&t.browser.version>=25)&&(t.browser.isIE?Boolean(new ActiveXObject("AgControl.AgControl")):Boolean(navigator.plugins["Silverlight Plug-In"]))}catch(e){a.warning("silverLight",{message:"unsupport",errorMessage:e})}return e},base64:function(){var e=!1;return t.browser.isIE&&t.browser.major>=11||!t.browser.isIE?e=!0:a.debug("base64",{message:"unsupport",errorMessage:"old IE"}),e},appcache:function(){var e=!1;return"applicationCache"in window&&"XMLHttpRequest"in window&&"postMessage"in window?e=!0:a.debug("appcache",{message:"unsupport",errorMessage:"isn't html5 browser"}),e},filesystem:function(){var e=!1;return"webkitRequestFileSystem"in window||"requestFileSystem"in window?e=!0:a.debug("filesystem",{message:"unsupport",errorMessage:"no filesystem support"}),e}};this.config={scope:{isDefault:!0,async:!1,className:"ScopeData",supported:i.scope,isRequest:!1},cookie:{isDefault:!0,async:!1,className:"CookieData",supported:i.cookie,isRequest:!1},window:{isDefault:!0,async:!1,className:"WindowData",supported:i.window,isRequest:!1},session:{isDefault:!0,async:!1,className:"SessionData",supported:i.session,isRequest:!1},global:{isDefault:!0,async:!1,className:"GlobalData",supported:i.global,isRequest:!1},local:{isDefault:!0,async:!1,className:"LocalData",supported:i.local,isRequest:!1},user:{isDefault:!0,async:!1,className:"UserData",supported:i.user,isRequest:!1},server:{isDefault:!0,async:!0,className:"ServerData",supported:i.server,isRequest:!0},etag:{isDefault:!0,async:!0,className:"EtagData",supported:i.etag,isRequest:!0},database:{isDefault:!0,async:!0,className:"DatabaseData",supported:i.database,isRequest:!1},indexeddb:{isDefault:!0,async:!0,className:"IndexedDB",supported:i.indexeddb,isRequest:!1},swf:{isDefault:!0,async:!0,className:"SwfData",supported:i.swf,isRequest:!0},sl:{isDefault:!0,async:!0,className:"SilverLightData",supported:i.sl,isRequest:!0}},this.ScopeData=function(){this.set=function(e){try{t.parent.uid=e,a.debug("ScopeData",t.parent.uid)}catch(e){a.error("ScopeData",{errorMessage:e})}},this.get=function(){var e=!1;try{e="parent"in t&&"object"==typeof t.parent&&"uid"in t.parent&&t.parent.uid,a.debug("ScopeData",e)}catch(e){a.error("ScopeData",{errorMessage:e})}return this.cacheValue(this,e)}},this.CookieData=function(){var e="L_"+r;this.set=function(t){try{if(document.cookie=r+"=; expires=Mon, 20 Sep 2010 00:00:00 UTC; domain=.dna.uol.com.br; path=/; samesite=none; secure",document.cookie=e+"=; expires=Mon, 20 Sep 2010 00:00:00 UTC; path=/; samesite=none; secure",document.cookie=e+"="+t+"; expires=Tue, 31 Dec 2030 00:00:00 UTC; path=/; samesite=none; secure",!n.getCookie(document.cookie,r)){var i="";window.location.hostname.split(".").reverse().some(function(e,t,r){if(i="."+e+i,"com"==e)return i=r[t+1]+i,!0}),document.cookie=r+"="+t+"; expires=Tue, 31 Dec 2030 00:00:00 UTC; domain=."+i+"; path=/; samesite=none; secure",document.cookie=r+"="+t+"; expires=Tue, 31 Dec 2030 00:00:00 UTC; domain=.uol.com.br; path=/; samesite=none; secure"}var o=n.getCookie(document.cookie,"T_"+r);if(o){var s=o.match(/([0-9a-f]{32})@([0-9a-f]+)/),c=t.split("|")[0];if(s&&s.length>0&&s[1]!=c){var l=new Date((new Date).getTime()+432e3);document.cookie="T_"+r+"="+c+"@"+s[2]+"; expires="+l.toUTCString()+"; domain=.dna.uol.com.br; path=/; samesite=none; secure"}}a.debug("CookieData",t)}catch(e){a.error("CookieData",{errorMessage:e})}},this.get=function(){var t=!1;try{t=n.getCookie(document.cookie,r),t||(t=n.getCookie(document.cookie,e)),a.debug("CookieData",t)}catch(e){a.error("CookieData",e)}return this.cacheValue(this,t)}},this.WindowData=function(){this.set=function(e){try{window.name=n.setUrlParameter(window.name,r,e),a.debug("WindowData",e)}catch(e){a.error("WindowData",{errorMessage:e})}},this.get=function(){var e;try{e=n.getUrlParameter(window.name,r),a.debug("WindowData",e)}catch(e){a.error("WindowData",{errorMessage:e})}return this.cacheValue(this,e)}},this.SessionData=function(){this.set=function(e){try{sessionStorage.setItem(r,e),a.debug("SessionData",e)}catch(e){/QuotaExceededError|QUOTA_EXCEEDED_ERR/i.test(e.toString())?a.warning("SessionData",{errorMessage:e}):/SecurityError/i.test(e)?a.warning("sessionSecurityError",{errorMessage:e}):a.error("SessionData",{errorMessage:e})}},this.get=function(){var e=!1;try{e=sessionStorage.getItem(r),a.debug("SessionData",e)}catch(e){/SecurityError/i.test(e)?a.warning("sessionSecurityError",{errorMessage:e}):a.error("session",{message:"unsupport",errorMessage:e})}return this.cacheValue(this,e)}},this.GlobalData=function(){var e;this.init=function(){try{e=window.document.location.host,0==e.indexOf("www.")&&(e=e.replace("www.",""))}catch(e){a.error("GlobalData",{errorMessage:e})}},this.set=function(t){try{window.globalStorage[e][r]=t,a.debug("GlobalData",t)}catch(e){a.error("GlobalData",{errorMessage:e})}},this.get=function(){var t;try{t=n.trim(window.globalStorage[e][r]),t=t||!1,a.debug("GlobalData",t)}catch(e){a.error("GlobalData",{errorMessage:e})}return this.cacheValue(this,t)}},this.LocalData=function(){this.set=function(e){try{window.localStorage.setItem(r,e),a.debug("LocalData",e)}catch(e){/QuotaExceededError/i.test(e.toString())?a.warning("LocalData",{message:"QuotaExceededError",errorMessage:e}):a.warning("LocalData",{errorMessage:e})}},this.get=function(){var e=!1;try{e=window.localStorage.getItem(r),a.debug("LocalData",e)}catch(e){a.warning("LocalData",{errorMessage:e})}return this.cacheValue(this,e)}},this.UserData=function(){this.init=function(){n.createHtmlElement("div",{html:"dnauol",id:"dnauol-userdata"}).style.behavior="url(#default#userData)"},this.set=function(e){try{var t=document.getElementById("dnauol-userdata");t.setAttribute(r,e),t.save(r),a.debug("UserData",e)}catch(e){a.error("UserData",{errorMessage:e})}},this.get=function(){var e;try{var t=document.getElementById("dnauol-userdata");t.load(r),e=t.getAttribute(r),a.debug("UserData",e)}catch(t){e=!1,a.error("UserData",{errorMessage:t})}return this.cacheValue(this,e)}},this.ServerData=function(){var e=!1,t=!1;this.init=function(){try{w.getRequest("/cookie")||u.Persistence.serverRequest({callback:function(r){r&&w.addRequest("/cookie"),t=r,e=!0},error:function(r){t=!1,e=!0,a.warning("ServerData",{errorMessage:r})}})}catch(e){a.error("ServerData",{errorMessage:e})}},this.set=function(e){try{a.debug("ServerData",e)}catch(e){a.error("ServerData",{errorMessage:e})}},this.get=function(){var e=t;return a.debug("ServerData",e),this.cacheValue(this,e)},this.isReady=function(){return e}},this.EtagData=function(){var e=!1,t=!1;this.init=function(){try{w.getRequest("/etag")||u.Persistence.etagRequest({callback:function(r){r&&w.addRequest("/etag"),t=r,e=!0},error:function(r){t=!1,e=!0,a.warning("EtagData",{errorMessage:r})}})}catch(e){a.error("EtagData",{errorMessage:e})}},this.set=function(e){try{w.getRequest("/etag")||(u.Persistence.etagRequest({etag:e,callback:function(e){e&&w.addRequest("/etag")}}),a.debug("EtagData",e))}catch(e){a.error("EtagData",{errorMessage:e})}},this.get=function(){var e=t;return a.debug("EtagData",e),this.cacheValue(this,e)},this.isReady=function(){return e}},this.DatabaseData=function(){function e(){var e;try{e=window.openDatabase(r,"",r,1024)}catch(t){try{handler=new Function('(function(){try{return [window.openDatabase("'+r+'","","'+r+'",1024)];}catch(e){return [false,e];}})();')(),null==handle?(e=!1,a.warning("DatabaseDataFallbackFail","nothing return")):handler[0]?(e=handler[0],a.warning("DatabaseDataOpenDatabase","fallback ok")):(e=!1,a.warning("DatabaseDataFallbackFail",handler[1]))}catch(t){e=!1,a.warning("DatabaseDataFallbackFail",{errorMessage:t})}}return e}var t=!1,n={handler:null,tableName:"dnauol",value:"",queries:[]};n.queries.create=function(e){var t=[];t[t.length]="CREATE TABLE IF NOT EXISTS "+n.tableName+" (",t[t.length]="id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, ",t[t.length]="name TEXT NOT NULL, value TEXT NOT NULL, UNIQUE (name) )",t=t.join("");var r=function(e,t){},i=function(e,t){a.error("databaseDataCreate",{errorMessage:t})};e.executeSql(t,[],r,i)},n.queries.update=function(e,t){var i="INSERT OR REPLACE INTO "+n.tableName+" (name, value) VALUES(?, ?)",o=[r,t],s=function(e,r){a.debug("databaseDataSet",t)},c=function(e,t){a.error("databaseDataUpdate",{errorMessage:t})};e.executeSql(i,o,s,c)},n.queries.select=function(e){var i="SELECT value FROM "+n.tableName+" WHERE name=?",o=[r],s=function(e,r){r.rows.length>=1&&(n.value=r.rows.item(0).value),t=!0},c=function(e,r){t=!0,a.warning("databaseDataSelect",{errorMessage:r})};e.executeSql(i,o,s,c)};var i=function(){try{n.handler.transaction(function(e){n.queries.select(e)})}catch(e){a.error("databaseDataTransaction",{errorMessage:e})}};this.init=function(){setTimeout(function(){n.handler=e()},1),_$.utils.async("database.init__nolog",function(e){n.handler&&(e.clear(),i()),e.lastCall&&e.clear()},_$.config.get("_ai"),_$.config.get("_maa"))},this.set=function(t){if(n.handler||(n.handler=e()),n.handler)try{n.handler.transaction(function(e){n.queries.create(e),n.queries.update(e,t)})}catch(e){a.error("DatabaseData",{errorMessage:e})}},this.get=function(){var e=""!=n.value&&n.value;return this.cacheValue(this,e)},this.isReady=function(){return t}},this.IndexedDB=function(){var e=!1,t=!1,r=function(){var e,r=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;try{e=r.open("DNAUOL",2)}catch(e){/line.*column.*sourceURL/.test(JSON.stringify(e))?a.warning("indexedDB",{message:"db.open",errorMessage:e}):a.error("indexedDB",{message:"db.open",errorMessage:e}),t=!0}return e},n=function(e,t){var r=null;try{e.objectStoreNames.contains("dnauol")&&(r=e.transaction(["dnauol"],t).objectStore("dnauol"))}catch(e){a.error("indexedDB",{message:"objectStore transaction",errorMessage:e})}return r},i=function(e,t){var r=e.openCursor();r.onsuccess=function(e){var r=e.target.result;if(!r)return void t(null);t(r.value.data)},r.onerror=function(e){a.error("indexedDB","cursor error event"),t(null)}},o=function(e,t){var r=n(e.target.result,IDBTransaction.READ_ONLY);r?i(r,t):(a.warning("indexedDB","objectStore not found"),t(null))},s=function(e,r){var i=n(e.target.result,"readwrite");i?(i.put({key:"_id",data:r}),a.debug("indexedDB",r)):a.error("indexedDB","objectStore not found"),t=!0};this.init=function(){var n=r();n&&(n.onupgradeneeded=function(e){try{e.target.result.createObjectStore("dnauol",{keyPath:"key"}).createIndex("data","data",{unique:!0})}catch(e){a.error("indexedDB",{message:"upgradeneeded event createObjectStore",errorMessage:e})}},n.onsuccess=function(r){o(r,function(r){r&&(e=r),t=!0,a.debug("indexedDB",e)})},n.onerror=function(e){t=!0,a.warning("indexedDB",{message:"indexedDB init event error",errorMessage:e})})},this.get=function(){return this.cacheValue(this,e)},this.set=function(e){var n=r();n&&(n.onupgradeneeded=function(e){try{e.target.result.createObjectStore("dnauol",{keyPath:"key"}).createIndex("data","data",{unique:!0})}catch(e){a.error("indexedDB",{message:"upgradeneeded event createObjectStore",errorMessage:e}),t=!0}},n.onsuccess=function(t){s(t,e)},n.onerror=function(e){t=!0,a.error("indexedDB",{message:"init event error",errorMessage:e})})},this.isReady=function(){return t}},this.SwfData=function(){var r=!1,n=!1;this.init=function(){t.swfLib||(t.swfLib=s.get("swf"),_$.utils.async("swfObject__nolog",function(e){g.swfobject&&g.swfobject.hasFlashPlayerVersion("9")&&(t.swfLib.create(),e.detectionReady=!0,e.clear()),e.maxCalls==e.actualCall+1&&(e.detectionReady=!0,e.clear())},_$.config.get("_ai"),_$.config.get("_maa")))},this.set=function(r){try{t.swfLib.handler&&"function"==typeof t.swfLib.handler.setDNA?(t.swfLib.handler.setDNA(r),a.debug("swfData",r)):a.warning("swfData",{message:"swfHandler.setDNA is not a function",errorMessage:e})}catch(e){a.error("swfData",{errorMessage:e})}},this.get=function(){return a.debug("swfData",r),this.cacheValue(this,r)},this.isReady=function(){try{if(g.swfobject)if(g.swfobject.hasFlashPlayerVersion("9")){if(t.swfLib.createHandler()&&"function"==typeof t.swfLib.handler.getDNA){n=!0;var e=t.swfLib.handler.getDNA();r=!!Boolean(e)&&e}}else n=!0}catch(e){a.error("swfData",{message:"isReady catch",errorMessage:e})}return n}},this.SilverLightData=function(){var r=!1,i=!1,o=function(e){var r=t.appUrl+"/resource/dna.xap",a=void 0!==e?'<param name="initParams" value="'+t.browser.alias+"="+e+'" />':"",i=void 0!==e?"dnauol-silverlight-set":"dnauol-silverlight-get",o="string"!=typeof e?'<param name="onLoad"  value="onDnaUOLSlLoad" />':"",s="string"!=typeof e?'<param name="onError" value="onDnaUOLSlError" />':"",c=[];c.push('<div style="width:1px;height:1px;overflow:hidden;position:absolute;top:-9999px;left:-9999px;">'),c.push("<object id="+i+' width="100%" height="100%" type="application/x-silverlight-2" data="data:application/x-silverlight-2," >'),c.push(a),c.push('<param name="source" value="'+r+'" />'),c.push('<param name="enableHtmlAccess" value="true" />'),c.push(o+s),c.push('<param name="background" value="Transparent" />'),c.push('<param name="windowless" value="true" />'),c.push('<param name="minRuntimeVersion" value="4.0.50826.0" />'),c.push('<param name="autoUpgrade" value="false" />'),c.push("</object></div>"),c=c.join(""),n.removeHtmlElement(i+"-wrapper"),n.createHtmlElement("div",{id:i+"-wrapper"}).innerHTML=c};this.init=function(){try{window.onDnaUOLSlLoad=function(n,o){var s=document.getElementById("dnauol-silverlight-get");if(s)try{t.controlSilverLight=s.Content.App.getIsolatedStorage(t.browser.alias),i=t.controlSilverLight}catch(e){a.warning("silverLightData",{message:"onDnaUOLSlLoad",errorMessage:e}),t.controlSilverLight=!1}else a.warning("silverLightData",{message:"onDnaUOLSlLoad - Cant use silverlight control handler",errorMessage:e});r=!0},window.onDnaUOLSlError=function(e,a){t.controlSilverLight=!1,r=!0},window.dbg=function(e){},o()}catch(e){a.error("silverLightData",{errorMessage:e})}},this.get=function(){return this.cacheValue(this,i)},this.set=function(e){try{o(e),a.debug("silverLightData",e)}catch(e){a.error("silverLightData",{errorMessage:e})}},this.isReady=function(){return r}},this.Base64Data=function(){var e=!1,r=!1,n=function(e){c.get({url:t.appUrl+_$.config.get("_bsp"),cache:!0,mimeType:"text/css",dataType:"text",headers:e?{"X-Request-Uid":e}:{},callback:function(t){if(e)a.debug("base64Data",e);else{var r;try{r=t.match(/url\(([\S\s]+)?\)/)[1].replace(/\n/g,"").replace(/\r/g,"")}catch(e){return void a.error("base64Data",{message:"Couldn't do response parse",errorMessage:e})}try{i(r)}catch(e){a.warning("base64Data",{errorMessage:e})}}},error:function(e){a.warning("base64Data",{message:"request error",errorMessage:e})}})},i=function(t){var n="",i=new Image;i.style.visibility="hidden",i.style.position="absolute",i.src=t,i.onerror=function(e){a.error("base64Data",{message:"base64 image onerror",errorMessage:e})},i.onload=function(){try{n="";var t=document.createElement("canvas");t.width=i.width,t.height=1;var o=t.getContext("2d");o.drawImage(i,0,0);for(var s=o.getImageData(0,0,200,1),c=s.data,l=0,u=c.length;l<u&&0!=c[l]&&(n+=String.fromCharCode(c[l]),0!=c[l+1])&&(n+=String.fromCharCode(c[l+1]),0!=c[l+2]);l+=4)n+=String.fromCharCode(c[l+2]);""!=n&&(r=n),e=!0}catch(e){a.error("base64Data",{message:"error on pixel reading",errorMessage:e})}}};this.init=function(){n()},this.get=function(){return this.cacheValue(this,r)},this.set=function(e){try{n(e)}catch(e){a.error("Base64Data",{errorMessage:e})}},this.isReady=function(){return e}},this.AppcacheData=function(){var e=!1,r=!1,n=t.appUrl+_$.config.get("_acsp"),i="origin"in location?location.origin:location.protocol+"//"+location.hostname,o=function(t){/^https*:\/\/[\w\.]+?\.uol\.com\.br$/i.test(t.origin)&&/^get:.*$/i.test(t.data)&&(/^get:\w+\|\w+|\w+$/.test(t.data)&&"get:cached"!=t.data&&"get:null"!=t.data&&(e=t.data.split(":")[1]),r=!0)},s=function(e){var t=document.getElementById(e);t&&document.body.removeChild(t)};this.init=function(){var e=document.createElement("iframe");e.id="dna_iframeGet",e.style.display="none",e.src=n+"#get_"+encodeURIComponent(i),document.body.appendChild(e),window.addEventListener("message",o,!1)},this.get=function(){s("dna_iframeGet"),window.removeEventListener("message",o);var t=e;return a.debug("appcache",t),this.cacheValue(this,t)},this.set=function(e){s("dna_iframeGet");var t=document.createElement("iframe");t.id="dna_iframeSet",t.style.display="none",t.src=n+"#set_"+encodeURIComponent(i)+"_"+e,document.body.appendChild(t),setTimeout(function(){s("dna_iframeSet")},2e3)},this.isReady=function(){return r}},this.FilesystemData=function(){function e(e){/^http[s]*:\/\/[\w\.]+\.uol\.com\.br\//i.test(e.origin)&&/^get:[\w\|]+$/.test(e.data)&&(/get:\w+\|\w+\|\w+/.test(e.data)&&"get:null"!=e.data&&(r=e.data.split(":")[1]),n=!0)}var r=!1,n=!1,i=t.appUrl+_$.config.get("_fssp"),o="origin"in location?location.origin:location.protocol+"//"+location.hostname,s=function(e,t){var r=document.getElementById(e);r&&document.body.removeChild(r),t&&window.removeEventListener("message",t,!1)};this.init=function(){var t=document.createElement("iframe");t.id="dna_iframeFSGet",t.style.display="none",t.src=i+"#get_"+encodeURIComponent(o),document.body.appendChild(t),window.addEventListener("message",e,!1)},this.get=function(){var e=r;return a.debug("filesystem",e),this.cacheValue(this,e)},this.set=function(t){s("dna_iframeFSGet",e);var r=document.createElement("iframe");r.id="dna_iframeFSSet",r.style.display="none",r.onload=function(){setTimeout(function(){s("dna_iframeFSSet")},2e3)},r.src=i+"#set_"+t,document.body.appendChild(r)},this.isReady=function(){return n&&s("dna_iframeFSGet",e),n}}},v=new function(){var r=new m,i=new function(){this.asyncInterval=_$.config.get("_ai"),this.maxAsyncAttempts=_$.config.get("_maa"),this.createTrick=function(e){var t,i=r.config[e];return i.supported()?(t=new r[i.className],t.ready=!1,t.cacheValue=function(e,t){var r=!1;if("string"==typeof t){var a=n.trim(t);/^[a-z0-9]{32}\|[a-z0-9]*\|(true|false)$/i.test(a)&&(t=a,r=new l,r.setAttributes(t))}e.cache=r}):(t={},t.unsupported=!0,t.ready=!0,a.debug(e,"unsupported")),t.className=i.className,t.isRequest=i.isRequest,t.cache=!1,t.timeout=!1,t},this.getTrickValue=function(e){return e.cache},this.factory=function(e){var t=[],e="object"==typeof e?e:{};for(var n in r.config)try{this.trickFilter(e[n],r.config[n].isDefault)?t[n]=this.createTrick(n):a.debug(n,"unused")}catch(e){a.error(n,{errorMessage:e})}return t},this.trickFilter=function(e,t){var r=!1;return"boolean"==typeof e?r=e:void 0===e&&t?r=!0:void 0!==e||t||(r=!1),r},this.checkAsyncTrick=function(e,t,r){return _$.utils.async("checkAsyncTrick__nolog",function(r){var n=e.tricks[t];if(n.asyncCheck=n.asyncCheck+1||0,n.isReady())return n.get(),n.ready=!0,r.clear(),void a.debug(t,{attempt:n.asyncCheck});r.lastCall&&(n.timeout=!0,n.ready=!0,a.debug(t,"timeout"),r.clear())},_$.config.get("_ai"),_$.config.get("_maa"))},this.isAllTricksReady=function(e,t){return _$.utils.async("isAllTricksReady__nolog",function(r){var a=!0;for(var n in e.tricks)e.tricks[n].ready||(a=!1);a&&(r.clear(),t())},_$.config.get("_ai"))},this.getSummary=function(e){var r={};try{for(var a in e.tricks){var n=this.getTrickValue(e.tricks[a]);"object"==typeof n?r[a]=n.getUid():e.tricks[a].unsupported?r[a]=!1:r[a]=null}}catch(e){t.error("getSummary",e)}return r},this.persistData=function(e,t,r,a){i.fillTricks(e,t,r),a(i.getSummary(e))},this.fillTricks=function(e,t,r){var n=t.getString();if(n){for(var i in e.tricks)if(!e.tricks[i].unsupported){var o=!r||!e.tricks[i].isRequest;o&&e.tricks[i].set(n)}}else a.debug("fillTricks","Value not set")}},o=function(n,o){var s=[],c=!1,l=!1,u=function(){if(!c){var e=!("unsupported"in n.tricks.scope&&n.tricks.scope.unsupported)&&n.tricks.scope.get();e&&(c=e,a.debug("firstTrick","scope"))}l||(l=!0,"object"==typeof c?a.debug("parseData",c.getData()):a.debug("parseData",!1),o(c))},d=function(){try{for(var e in n.tricks){if(n.tricks[e].get)if(r.config[e].async)s.push(e);else{"function"!=typeof n.tricks[e].init||n.tricks[e].ready||n.tricks[e].init(),n.tricks[e].ready=!0,n.tricks[e].get();var o=i.getTrickValue(n.tricks[e]);o&&(c=o,"parent"in t&&null!=t.parent&&(t.parent.uid=o.getString()),a.debug("firstTrick",e))}if(c)break}}catch(e){a.error("trySyncTricks",{errorMessage:e})}return c},g=function(){return _$.utils.async("tryAsyncTricks__nolog",function(r){var o,l,d=!0;r.error[r.actualCall]&&(a.error("tryAsyncTricks",{errorMessage:e}),u());for(var g in s)o=s[g],n.tricks[o].ready||n.tricks[o].timeout?(l=i.getTrickValue(n.tricks[o]))&&(c=l,"parent"in t&&null!=t.parent&&(t.parent.uid=l.getString()),a.debug("firstTrick",o)):d=!1;(c||d)&&(r.clear(),u())},_$.config.get("_ai"))},f=function(){try{for(var e in s)!function(e){setTimeout(function(){var t=s[e];n.tricks[t].get&&(n.tricks[t].ready=!1,"function"==typeof n.tricks[t].init&&n.tricks[t].init(),i.checkAsyncTrick(n,t))},0)}(e);g()}catch(e){a.error("startAsyncTricks",{errorMessage:e}),u()}};this.get=function(){d()?u():f()}};this.handler=function(e){var t={};return t.tricks=i.factory(e),t.getPersistedData=function(e){new o(t,e).get()},t.persistData=function(e,r,a){i.persistData(t,e,r,a)},t.checkSyncPersistedData=function(e){var t=i.createTrick(e);return t?(t.get(),t.cache?t.cache:null):null},t.checkAsyncPersistedData=function(e,t){var r=i.createTrick(e);return r?(r.init(),_$.utils.async("checkAsyncPersistedData__nolog",function(e){ready&&(e.clear(),t(r.cache?r.cache:null))},_$.config.get("_ai"))):null},t}},y=function(){};y.prototype.canRun=function(e){o=setInterval(function(){if("complete"==document.readyState||"interactive"==document.readyState){this.inProgress()||e()}}.bind(this),50)},y.prototype.start=function(e){var t=this.get();this.prepareScriptUpdate(),t={timeout:this.setExecutionTimeout(),running:!0,captured:!(!t||"null"==t)&&t.captured,detectDeviceData:!!e.detectDeviceData&&e.detectDeviceData,requests:t&&"null"!=t?t.requests:[],forceUpdate:!!e.forceUpdate&&e.forceUpdate},this.get()||this.set(t),clearInterval(o)},y.prototype.inProgress=function(){var e=this.get(),t=!1;return e&&"null"!=e?t=e.running:(!e||e&&"null"==e)&&(t=!1),t},y.prototype.finalize=function(e){e&&a.error("DnaControl.finalize",{reason:e});try{f.changeStatus("finalized",t.id)}catch(e){}try{sessionStorage.removeItem("dnaThread"),sessionStorage.removeItem("token_sess")}catch(e){/SecurityError/i.test(e)?a.warning("sessionSecurityError",{errorMessage:e}):a.error("session",{message:"unsupport",errorMessage:e})}},y.prototype.abort=function(e){this.finalize(e),setTimeout(function(){n.removeHtmlWrapper()},1e3);var t=a.getTime();t>=2e4&&a.error("extremeTimeElapsed",t)},y.prototype.setCookieExpires=function(){var e=new Date;return e.setTime(e.getTime()+5e3),e.toUTCString()},y.prototype.setDeviceDataCaptured=function(){var e=this.get();e&&"null"!=e&&(e.captured=!0,this.set(e))},y.prototype.get=function(){try{var e=n.getCookie(document.cookie,"dna_status"),t=!1;return e&&"null"!=e&&(t=window.atob(e),t=JSON.parse(t)),t}catch(e){this.prepareScriptUpdate()}},y.prototype.set=function(e){return e=JSON.stringify(e),e=window.btoa(e),document.cookie="dna_status="+e+"; expires="+this.setCookieExpires()+"; domain=.uol.com.br; path=/; samesite=none; secure",e},y.prototype.prepareScriptUpdate=function(){try{sessionStorage.removeItem("dna_thread"),sessionStorage.removeItem("token_sess"),document.cookie="dna_status=; expires=Mon, 20 Sep 2010 00:00:00 UTC; domain=.dna.uol.com.br; path=/; samesite=none; secure"}catch(e){/SecurityError/i.test(e)?a.warning("sessionSecurityError",{errorMessage:e}):a.error("session",{message:"unsupport",errorMessage:e})}},y.prototype.timeout=function(){var e=this.get();e&&"null"!=e&&e.timeout<(new Date).getTime()&&this.abort("timeout")},y.prototype.setExecutionTimeout=function(){var e=new Date;return e.setTime(e.getTime()+25e3),e.getTime()},y.prototype.getRequest=function(e){var t=this.get(),r=!1;return t&&"null"!=t&&t.requests.indexOf(e)>=0&&(r=t.requests[t.requests.indexOf(e)]),r},y.prototype.addRequest=function(e){var t=this.get();t&&"null"!=t&&(this.getRequest(e)||(t.requests.push(e),this.set(t)))},y.prototype.removeRequest=function(e){var t=this.get();if(t&&"null"!=t&&this.getRequest(e)){const r=t.requests.indexOf(e);r>-1&&t.requests.splice(r,1),this.set(t)}};var w=new y;this.Main=new function(){function e(e,t,r){a.debug("+checkPersistence"),e.getPersistedData(function(n){if(!n){var i=e.checkSyncPersistedData("scope");i&&(n=i)}t.register("persisted","Persisted data recovered",n),a.debug("-checkPersistence"),a.debug("+CheckUpdate"),"function"==typeof r&&r(n)})}function i(i,o){function c(e){function c(t){a.getTime("detectionTime")||a.startTimer("detectionTime"),S?(a.debug("updating",{UID:e.getUid(),lastUpdate:a.formatDate(e.getLastUpdate())}),u.DeviceId.update({sess:l,data:e,detections:t,callback:d})):(a.debug("create","Creating..."),u.DeviceId.create({sess:l,detections:t,callback:d}))}function d(t){b&&w.setDeviceDataCaptured(),t?(i.register("update","Get value to persist from service callback",t),a.debug("-update"),g(t,!1,"Data persisted")):(i.register("notUpdate","Not modified"),a.debug("-update"),g(e,!0,"Data re-persisted"))}function g(e,t,r){if(a.debug("+persistData"),e){e.setDetectionFlag(b);new v.handler(o.filter).persistData(e,t,function(t){i.register("summary",r,t),a.debug("-persistData"),f(e)})}else a.debug("-persistData"),f(!1)}function f(e){i.finalize(o.callback,e)}var m=!(!e||/^[0-9a-fA-F]{32}$/.test(e.getUid())),y=!!o.forceUpdate||m,b=!("detectDeviceData"in o)||o.detectDeviceData,C=!0,S=!1,D=!1,E=!1,A=!1;"object"==typeof e&&e&&(C=i.hasExpired(e.getLastUpdate(),o.updateFrequency),S=Boolean(e.getUid()),D="null"!=e.getLastUpdate()&&!isNaN(e.getLastUpdate().valueOf()),E=Boolean(e.getDetectionFlag()),A=e.getString().search("true")>0);var T=Boolean(!S||b&&!D||y||C||b&&!E||!A);if(a.debug("updateNeeded",{noHasUid:!S,detectAndNoHasLastUpdate:b&&!D,forceUpdate:y,expired:C,detectAndNoHasDetectionFlag:b&&!E,updateNeeded:T}),i.register("CheckUpdate","Update checked"),a.debug("-CheckUpdate"),r.getRandomInt(1,100)<=_$.config.get("_nDevicesToDetect_")&&(b=!0),b&&T){a.debug("+Detections");var B="object"==typeof o.addDetections&&o.addDetections,M=new h(B);M.get(function(r){if(i.register("detections","Device data detection done",r),a.debug("-Detections"),a.debug("+update"),t.browser.isIE&&t.browser.major<=9)c(r);else{var n=_$.config.get("_ics");if(a.debug("sync",n),n){var s=!!S&&e.getUid();_(s,o.sess,r)}else c(r)}}),M=null}else T?(a.debug("+update"),c(!1)):(a.debug("+update"),function(t){function o(e,t){var a=r.getReferer();a&&n.isPagSeguroDomain(a)&&!n.isPagSeguroDomain()||(w.addRequest("/sample/conn"),u.simpleRequest({uid:e,sess:t}))}var s=e.getUid();a.debug("notUpdate",{UID:s,lastUpdate:a.formatDate(e.getLastUpdate())});var c=w.get(),d=!!c.forceUpdate&&c.forceUpdate,f=w.getRequest("/sample/conn");(d||t&&A&&!f)&&(l?o(s,l):u.getDptToken(s,o)),i.register("doNotUpdate","Nothing to do",e),a.debug("-update"),g(e,!0,"Data re-persisted")}(b));var _=function(t,r,n){var t=!!S&&e.getUid();u.sync({uid:t||"",callback:function(e){try{if(!e)throw new Error("Requisicao invalida");var t=!1;t=new s.get("jsonParser").parse(e.responseText),b&&"token"in t&&(sessionStorage.setItem("token_sess",t.token),!r&&b&&(l=t.token)),"devicePhrase"in t&&"specs"in t.devicePhrase?x(t.devicePhrase.specs,e.Date,n):x(e.responseText,e.Date,n)}catch(e){a.error("sync",{errorMessage:e}),x(!1,!1,n)}},error:function(e){a.error("sync",{errorMessage:e}),x(!1,!1,n)}})},x=function(e,t,r){a.startTimer("detectionTime");var n=!1,i=!1,o=new p,s=o.get("getBase64ImageCanvas");s.init(new Date(t).getTime());var l=o.get("optionalImageCanvas");return l.init(e),_$.utils.async("ics__nolog",function(e){if(!n&&s.isAvailable()&&(n=!0,r.getBase64ImageCanvas={timeout:!1,type:s.type,value:s.get()}),!i&&l.isAvailable()&&(i=!0,r.optionalImageCanvas={timeout:!1,type:l.type,value:l.get()}),n&&i||e.lastCall){return e.lastCall?("sync error",a.error("syncError",{timestampName:n,optionalName:i})):(e.clear(),"sync done"),o=null,void c(r)}},_$.config.get("_ai"),_$.config.get("_maa"))}}w.start(o);var l;try{l=sessionStorage.getItem("token_sess")}catch(e){/SecurityError/i.test(e)?a.warning("sessionSecurityError",{errorMessage:e}):a.error("session",{message:"unsupport",errorMessage:e})}"sess"in o&&"string"==typeof o.sess&&(l=o.sess),e(new v.handler(o.filter),i,c)}function o(r){function i(){var e={uid:!1,lastUpdate:!1,updated:!1};try{o.update&&o.update.getUid()?(e.uid=o.update.getUid(),e.lastUpdate=o.update.getLastUpdate(),e.updated=!!o.summary,g.updateData=!!o.summary&&o.summary):o.persisted&&(e.uid=o.persisted.getUid(),e.lastUpdate=o.persisted.getLastUpdate(),g.updateData=!1),g.logResult=a.getData()}catch(e){a.error("getResult",{errorMessage:e})}return e.uid||a.forceSendErrorToServer("Inapt uid",e),e}var o={},s=1,c=new Date;try{_$.config.get("environment")}catch(e){a.error("StepsHelper",{errorMessage:e}),w.abort()}this.register=function(e,t,r){try{r&&(o[e]=r);var n=a.getNow(),i=n-c;c=n,a.debug("register",{step:s,info:t,stepElapsedTime:i})}catch(e){a.error("register",{errorMessage:e})}s++},this.hasExpired=function(e,t){var r,n=!1,i=!1;try{if("object"==typeof e&&e){var o,s,c,l=parseInt(Math.round(t),10);!isNaN(l)&&l<=_$.config.get("_muf")?r=l:(r=_$.config.get("_uf"),i=!0),o=24*parseInt(r)*60*60*1e3,s=new Date(e.getTime()+o),c=new Date,n=Boolean(s.getTime()<=c.getTime())}}catch(e){a.error("updateFrequency",{errorMessage:e})}var u={days:r,frequency:t,isDefault:i,hasExpired:n};return a.debug("updateFrequency",u),n},this.finalize=function(o,s){w.finalize(),setTimeout(function(){n.removeHtmlWrapper()},1e3);var c=a.getTime();if(c>=2e4&&a.error("extremeTimeElapsed",c),a.commit(s),f.changeStatus("finalized",t.id),"function"==typeof o){e(new v.handler(r.filter),this),o(i())}}}function c(e,t){var r=new o(t);if(e)i(r,t);else{const n={readyState:"readyState"in document?document.readyState:"no readyState"};w.inProgress()?a.info("dnaScriptsRunInSameTime",n):(a.error("dependenciesLoadTimeout",n),r.finalize(t.callback,null))}}function l(e){var t=!1,r=function(){if(t||"complete"==document.readyState||"interactive"==document.readyState){if(!w.inProgress()&&_$&&_$.config){var e={};return e.onload=t,"readyState"in document&&(e.readyState=document.readyState),a.debug("documentLoaded",e),!0}return!1}return!1},n=function(){
var e="addEventListener"in window?"addEventListener":"attachEvent",r="attachEvent"==e?"on":"";window[e](r+"load",function(){t=!0},!1)},i=function(){e(!0)},o=function(){e(!1)},s=function(){return _$.utils.async("waitUntilPrepared__nolog",function(e){return r()?(e.clear(),a.debug("init","wait until prepared"),i()):e.lastCall?o():void 0},3*_$.config.get("_ai"),_$.config.get("_maa"))};!function(){if(r())i();else{a.debug("init","Dependencies are NOT prepared");try{n(),s()}catch(e){a.error("autoPrepare",{errorMessage:e}),w.abort()}}}()}var d=function(e){e="object"==typeof e?e:{},"appDomain"in e&&m(e.appDomain)&&(t._ad=e.appDomain),(!1===e.ssl||t.browser.isIE&&"http:"==location.protocol)&&(t._ap="http://"),t.appUrl=t._ap+t._ad,t.parent="parent"in e?e.parent:"";var r=_$.config.get("_ll");if("logLevel"in e&&e.logLevel.constructor===Array){for(var i=!0,o=0;o<e.logLevel.length;o++)/^[a-z]+$/.test(e.logLevel[o])||(i=!1);i&&(r=e.logLevel)}return a.begin(r),t.useDynamicIframe="useDynamicIframe"in e&&!0===e.useDynamicIframe||_$.config.get("_udif"),t.consoleLog=!!("consoleLog"in e&&1==e.consoleLog||/consoleLog=true/.test(location.hash)),"detectDeviceData"in e||(e.detectDeviceData=!0,t.detectDeviceData=!0),_$.config.get("_op")&&(e.detectDeviceData=!1,t.detectDeviceData=!1),n.loadIframe(_$.config.get("_dnaIframeUrl_"),function(e){if("value"in e)try{var t={};window.getExternalDataIframeDetections&&(t=window.getExternalDataIframeDetections.getAll(_$.config.get("_guid"))),t[e.value.key]=e.value.value,n.createWindowCallback("IframeDetections",t)}catch(e){console.warn(e)}},null),e},m=function(e){for(var t=_$.config.get("_ad"),r=0;r<t.length;r++)if(e==t[r])return!0;return!1};!function(){t.browser=n.getBrowser()}();this.run=function(e,r){var n=document.createElement("script"),i=document.createTextNode("window.addEventListener('error', function(error){if (/^dna./.test(error.filename)) {var errorObj = {};errorObj.name = ('error' in error) ? error.error.name : null;errorObj.message = ('error' in error) ? error.message : null;errorObj.source = ('filename' in error) ? error.filename : null;errorObj.line = ('lineno' in error) ? error.lineno : null;errorObj.column = ('colno' in error) ? error.colno : null;DnaUOL.addRuntimeError(errorObj);}},false);");n.appendChild(i),document.getElementsByTagName("head")[0].appendChild(n),a.startTimer(),t.id=r,g.browser=t.browser,w.canRun(function(){l(function(t){var r=d(e);a.debug("clientOptions",r),c(t,r)})})},function(){var e=5,t=setInterval(function(){try{if(document.getElementById("dna-pbkc-iframe")&&clearInterval(t),e<0&&!document.getElementById("dna-pbkc-iframe")){var r=document.createElement("iframe");r.setAttribute("id","dna-pbkc-iframe"),r.src="https://dna.uol.com.br/dna-pbkc.html",r.style="position: absolute; width: 1px; height: 1px; left: -9999px;",document.body.appendChild(r),clearInterval(t)}e<0&&document.getElementById("dna-pbkc-iframe")&&clearInterval(t),e-=1}catch(e){console.warn("Não foi possível executar o PBKC")}},300)}()}};t.prototype.addClosure=function(e){var t,i;r();var o="id"in e?e.id:u()*(Math.random()+1);this.instanceId[o]=e.callback;var s=n();s?(t=this.instantiate(e,o),i="initiated"):(t=null,i="standby"),this.closure.push({instance:t,options:e,detect:Boolean(e.detectDeviceData),status:i,id:o,update:u(),start:u(),expires:(new Date).getTime()+4e4}),a(),s||this.hasAlarm||c()},t.prototype.persistUid=function(e,t){var r=o(t);r>=0&&("string"==typeof e?(""!=this.uid&&(this.uid=e),this.closure[r].status="hasUid"):this.closure[r].status="noHasUid"),s()},t.prototype.instantiate=function(e,t){var r=new l,a=this;return setTimeout(function(){e.callback=a.instanceId[t],r.Main.run(e,t)},0),r},t.prototype.changeStatus=function(e,t){if(this.closure.length>0){var r=this.closure[o(t)];r&&(r.status=e,a(),n()||s())}};var u=function(){return(new Date).getTime()},d=function(){if(!f.unloadBinded){var e=function(){if(f.hasSupport)try{sessionStorage.setItem("dnaThread","finished")}catch(e){/SecurityError/i.test(e)?Log.warning("sessionSecurityError",{errorMessage:e}):Log.error("session",{message:"unsupport",errorMessage:e})}},t=window.addEventListener?"addEventListener":"attachEvent",r="attachEvent"==t?"on":"";window[t](r+"unload",e,!1),window[t](r+"beforeunload",e,!1),f.unloadBinded=!0}},g={run:function(e){d(),f.addClosure(e)},addEvent:function(e){for(var t in f.closure)f.closure[t].instance.Log.addEvent(e)},addRuntimeError:function(e){for(var t in f.closure)f.closure[t].instance.Log.addRuntimeError(e)},browser:null,logResult:null,updateData:null,version:null,getLog:function(){var e=[];for(var t in f.closure)e.push(f.closure[t].Log.getData());g.logResult=e}},f=new t;return g.version=f.version,g}();
//# sourceURL=dna.min.js